

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Layout &mdash; PyLayers</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Python
          

          
            
            <img src="../_static/pylayers.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../notebook/index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLayout1.html">Loading an outdoor layout from its address</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_antenna.html">Antenna Pattern for an H plane sectoral antenna &#64; 32GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLayout2.html">Building graphs of a Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_layout.html">8 Random Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_issue314.html">Exemple of issue 314</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_slab1.html">Material Attenuation for ITU_CONCRETE ITU_GLASS from 0.1 to 100GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_coverage.html">Indoor Radio Coverage with Motley Keenan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exAbsGas.html">Attenuation due to atmospheric gases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exDLink.html">Evaluation of a radio link DLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_w1.html">Indoor Radio Coverage FP7 WHERE1 M1 setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_exLuebbers.html">UWB Ray tracing simulation  in outdoor scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_dakar.html">Outdoor Radio Coverage with Deygout Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_cover.html">Outdoor Radio Coverage with Deygout Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_diffraction_polar.html">Diffraction coefficient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/plot_diffraction.html">Diffraction coefficient</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Layout</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/pylayers.gis.layout.Layout.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="layout">
<h1>Layout<a class="headerlink" href="#layout" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pylayers.gis.layout.Layout">
<em class="property">class </em><code class="descclassname">pylayers.gis.layout.</code><code class="descname">Layout</code><span class="sig-paren">(</span><em>arg=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pylayers.util.project.PyLayers.html#pylayers.util.project.PyLayers" title="pylayers.util.project.PyLayers"><code class="xref py py-class docutils literal notranslate"><span class="pre">pylayers.util.project.PyLayers</span></code></a></p>
<p>Handling Layout</p>
<p>Gs     : Graph of points and segment (structure)
Gt     : Graph of convex cycles      (topology)
Gv     : Graph of visibility         (visibility)
Gi     : Graph of interactions       (interactions)
Gr     : Graph of rooms              (rooms)
Nnode  : Number of nodes of Gs
Nedge  : Number of edges of Gs
pt     : points sequence
tahe   : tail head</p>
<p>This class uses <cite>networkx</cite> to store Layout information</p>
<p>Gs : structure
Gt : topology
Gv : visibility
Gi : interaction
Gr : room
Gm :
Gw : ways</p>
<p>Np
Ns
Nss</p>
<p>ax  : (xmin,ymin,xmax,ymax)
axn : (0,Dx,0,Dy)</p>
<p>filefur
filegeom
filematini
fileslabini
hasboundary
segboundary
min_sx
min_sy
max_sx
max_sy
labels
lbltg
lboundary
listtransition
loadosm
lsss
name
normal
p2pc
pg</p>
<p>pt : points coordinates
tahe : segment tail head
tgs : graph to segment
tsg : segment to graph
upnt : array of point index</p>
<p>s2pc : segment to point coordinates
s2pu : segment to point index
sgsg</p>
<p>sl</p>
<p>typ  : ‘indoor’ | ‘outdoor’
coordinates : ‘cart’,’lonlat’
version
_filename
_hash</p>
<dl class="simple">
<dt>_shseg<span class="classifier">keys / segment index</span></dt><dd><p>values / shapely LineString</p>
</dd>
<dt>dca<span class="classifier">keys / Gt node</span></dt><dd><p>values / list of air wall</p>
</dd>
<dt>degree<span class="classifier">keys / point degree</span></dt><dd><p>values / array of index</p>
</dd>
</dl>
<p>display : dictionnary for controling various visualization
dsseg :</p>
<p>indoor : if True allow indoor penetration
isbuilt
diffraction</p>
<p>maxheight
zceil
zfloor
zmin</p>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_fnod" title="pylayers.gis.layout.Layout.add_fnod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_fnod</span></code></a>([p])</p></td>
<td><p>add free node  p</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture" title="pylayers.gis.layout.Layout.add_furniture"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_furniture</span></code></a>([name, matname, origin, zmin, …])</p></td>
<td><p>add piece of furniture</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_furniture_file" title="pylayers.gis.layout.Layout.add_furniture_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_furniture_file</span></code></a>(_filefur[, typ])</p></td>
<td><p>add pieces of furniture from .ini files</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_nfpe" title="pylayers.gis.layout.Layout.add_nfpe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_nfpe</span></code></a>(np0, s1, s2)</p></td>
<td><p>Add node on s1 from projection of np0 along s2</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pnod" title="pylayers.gis.layout.Layout.add_pnod"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_pnod</span></code></a>(p, e1, e2)</p></td>
<td><p>Project point p on segment e1 along segment e2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_pons" title="pylayers.gis.layout.Layout.add_pons"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_pons</span></code></a>(ns[, alpha])</p></td>
<td><p>add point on segment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.add_segment" title="pylayers.gis.layout.Layout.add_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_segment</span></code></a>(n1, n2, **kwargs)</p></td>
<td><p>add segment between node n1 and node n2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink" title="pylayers.gis.layout.Layout.angleonlink"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angleonlink</span></code></a>([p1, p2])</p></td>
<td><p>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlink3" title="pylayers.gis.layout.Layout.angleonlink3"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angleonlink3</span></code></a>([p1, p2])</p></td>
<td><p>returns (seglist,angle) in retangular area defined by p1 and p2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.angleonlinkold" title="pylayers.gis.layout.Layout.angleonlinkold"><code class="xref py py-obj docutils literal notranslate"><span class="pre">angleonlinkold</span></code></a>([p1, p2])</p></td>
<td><p>angleonlink(self,p1,p2) returns seglist between p1 and p2</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.boundary" title="pylayers.gis.layout.Layout.boundary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">boundary</span></code></a>(**kwargs)</p></td>
<td><p>add a blank boundary around layout</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.build" title="pylayers.gis.layout.Layout.build"><code class="xref py py-obj docutils literal notranslate"><span class="pre">build</span></code></a>([graph, verbose, difftol, multi])</p></td>
<td><p>build graphs</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGi" title="pylayers.gis.layout.Layout.buildGi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buildGi</span></code></a>([verbose, tqdmpos])</p></td>
<td><p>build graph of interactions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGr" title="pylayers.gis.layout.Layout.buildGr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buildGr</span></code></a>()</p></td>
<td><p>build the graph of rooms Gr</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGt" title="pylayers.gis.layout.Layout.buildGt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buildGt</span></code></a>([check, difftol, verbose, tqdmpos])</p></td>
<td><p>build graph of convex cycles</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Layout.buildGt_old</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGv" title="pylayers.gis.layout.Layout.buildGv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buildGv</span></code></a>([show, verbose, tqdmpos])</p></td>
<td><p>build visibility graph</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.buildGw" title="pylayers.gis.layout.Layout.buildGw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">buildGw</span></code></a>()</p></td>
<td><p>build Graph of waypaths</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.check" title="pylayers.gis.layout.Layout.check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check</span></code></a>([level, epsilon])</p></td>
<td><p>Check Layout consistency</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.check2" title="pylayers.gis.layout.Layout.check2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check2</span></code></a>()</p></td>
<td><p>Layout checking</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.check_Gi" title="pylayers.gis.layout.Layout.check_Gi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_Gi</span></code></a>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.cleanup" title="pylayers.gis.layout.Layout.cleanup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cleanup</span></code></a>()</p></td>
<td><p>cleanup the Layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.clip" title="pylayers.gis.layout.Layout.clip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clip</span></code></a>(xmin, xmax, ymin, ymax)</p></td>
<td><p>return the list of edges which cross or belong to the clipping zone</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.closest_edge" title="pylayers.gis.layout.Layout.closest_edge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">closest_edge</span></code></a>(p, AAS)</p></td>
<td><p>not implemented</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.cy2pt" title="pylayers.gis.layout.Layout.cy2pt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cy2pt</span></code></a>([cy, h])</p></td>
<td><p>returns a point into a given cycle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.cycleinline" title="pylayers.gis.layout.Layout.cycleinline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cycleinline</span></code></a>(c1, c2)</p></td>
<td><p>returns the intersection between a given line and all segments</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.del_points" title="pylayers.gis.layout.Layout.del_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">del_points</span></code></a>(lp)</p></td>
<td><p>delete points in list lp</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.del_segment" title="pylayers.gis.layout.Layout.del_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">del_segment</span></code></a>(le[, verbose, g2npy])</p></td>
<td><p>delete segments in le</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.diag" title="pylayers.gis.layout.Layout.diag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diag</span></code></a>(p1, p2, l, al1, al2[, quadsel])</p></td>
<td><p>return edge list from a diagonal zone</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpr" title="pylayers.gis.layout.Layout.dumpr"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dumpr</span></code></a>([graphs])</p></td>
<td><p>read of given graphs</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.dumpw" title="pylayers.gis.layout.Layout.dumpw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dumpw</span></code></a>()</p></td>
<td><p>pickle dump of specified Graphs</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.ed2nd" title="pylayers.gis.layout.Layout.ed2nd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ed2nd</span></code></a>(edlist)</p></td>
<td><p>convert edgelist to nodelist</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.edit_seg" title="pylayers.gis.layout.Layout.edit_seg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">edit_seg</span></code></a>(e1[, data])</p></td>
<td><p>edit segment</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Layout.editor</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Layout.editorTk</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.exportosm" title="pylayers.gis.layout.Layout.exportosm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exportosm</span></code></a>()</p></td>
<td><p>export layout in osm file format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.extrseg" title="pylayers.gis.layout.Layout.extrseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extrseg</span></code></a>()</p></td>
<td><p>calculate extremum of segments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.facet3D" title="pylayers.gis.layout.Layout.facet3D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">facet3D</span></code></a>(e[, subseg])</p></td>
<td><p>calculate 3D facet from segment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.facets3D" title="pylayers.gis.layout.Layout.facets3D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">facets3D</span></code></a>(edlist[, name, subseg])</p></td>
<td><p>create facet 3D for geomview</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.filterGi" title="pylayers.gis.layout.Layout.filterGi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filterGi</span></code></a>([situ])</p></td>
<td><p>filter Gi to manage indoor/outdoor situations</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.find_edgelist" title="pylayers.gis.layout.Layout.find_edgelist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_edgelist</span></code></a>(edgelist, nodelist)</p></td>
<td><p>edgelist = find_edgelist(edgelist,nodelist)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.g2npy" title="pylayers.gis.layout.Layout.g2npy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">g2npy</span></code></a>([verbose])</p></td>
<td><p>conversion from graphs to numpy arrays</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.geomfile" title="pylayers.gis.layout.Layout.geomfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">geomfile</span></code></a>([centered])</p></td>
<td><p>create a .off geomview file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.get_Sg_pos" title="pylayers.gis.layout.Layout.get_Sg_pos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_Sg_pos</span></code></a>(sigarr)</p></td>
<td><p>return position of the signatures</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.get_diffslab" title="pylayers.gis.layout.Layout.get_diffslab"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_diffslab</span></code></a>(npt, lz)</p></td>
<td><p>get the 2 slabs associated to a diffraction point</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.get_paths" title="pylayers.gis.layout.Layout.get_paths"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_paths</span></code></a>(nd_in, nd_fin)</p></td>
<td><p>returns the possible paths of graph Gs between two nodes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.get_points" title="pylayers.gis.layout.Layout.get_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_points</span></code></a>(boxorpol[, tol])</p></td>
<td><p>get points list and segments list in a polygonal zone</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.get_zone" title="pylayers.gis.layout.Layout.get_zone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_zone</span></code></a>(ax)</p></td>
<td><p>get point list and segment list in a rectangular zone</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.getangles" title="pylayers.gis.layout.Layout.getangles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getangles</span></code></a>(poly[, unit, inside])</p></td>
<td><p>find angles of a polygon</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.have_subseg" title="pylayers.gis.layout.Layout.have_subseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">have_subseg</span></code></a>(e1)</p></td>
<td><p>check if edge e1 have subseg</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.importosm" title="pylayers.gis.layout.Layout.importosm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">importosm</span></code></a>(**kwargs)</p></td>
<td><p>import layout from osm file or osmapi</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.importres" title="pylayers.gis.layout.Layout.importres"><code class="xref py py-obj docutils literal notranslate"><span class="pre">importres</span></code></a>(_fileres, **kwargs)</p></td>
<td><p>import res format</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.importshp" title="pylayers.gis.layout.Layout.importshp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">importshp</span></code></a>(**kwargs)</p></td>
<td><p>import layout from shape file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.info" title="pylayers.gis.layout.Layout.info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">info</span></code></a>()</p></td>
<td><p>gives information about the Layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.info_segment" title="pylayers.gis.layout.Layout.info_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">info_segment</span></code></a>(s1)</p></td>
<td><p>information about segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.intercy" title="pylayers.gis.layout.Layout.intercy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">intercy</span></code></a>(ncy[, typ])</p></td>
<td><p>return the list of interactions seen from a cycle</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.isindoor" title="pylayers.gis.layout.Layout.isindoor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isindoor</span></code></a>([pt])</p></td>
<td><p>test if a point is indoor</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.ispoint" title="pylayers.gis.layout.Layout.ispoint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ispoint</span></code></a>(pt[, tol])</p></td>
<td><p>check if pt is a point of the Layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.isseg" title="pylayers.gis.layout.Layout.isseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isseg</span></code></a>(ta, he)</p></td>
<td><p>test if ta&lt;-&gt;he is a segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.layerongrid" title="pylayers.gis.layout.Layout.layerongrid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">layerongrid</span></code></a>(grid, Tx)</p></td>
<td><p>grid Nx,Ny,2 Tx   1x2 ..</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.layeronlink" title="pylayers.gis.layout.Layout.layeronlink"><code class="xref py py-obj docutils literal notranslate"><span class="pre">layeronlink</span></code></a>(p1, p2)</p></td>
<td><p>layeronlink(self,p1,p2) return seglist between p1 and p2</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.load" title="pylayers.gis.layout.Layout.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>load a layout from a .lay file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.load_modif" title="pylayers.gis.layout.Layout.load_modif"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_modif</span></code></a>(_filename[, build, cartesian, dist_m])</p></td>
<td><p>load a Layout in different formats</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.loadfur" title="pylayers.gis.layout.Layout.loadfur"><code class="xref py py-obj docutils literal notranslate"><span class="pre">loadfur</span></code></a>(_filefur)</p></td>
<td><p>loadfur load a furniture file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.ls" title="pylayers.gis.layout.Layout.ls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ls</span></code></a>([typ])</p></td>
<td><p>list the available file in dirstruc</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.mask" title="pylayers.gis.layout.Layout.mask"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mask</span></code></a>()</p></td>
<td><p>returns the polygonal mask of the building</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.merge_segment" title="pylayers.gis.layout.Layout.merge_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge_segment</span></code></a>(n1, n2)</p></td>
<td><p>merge segment n2 included in n1</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.nd2seg" title="pylayers.gis.layout.Layout.nd2seg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nd2seg</span></code></a>(ndlist)</p></td>
<td><p>convert node list to edge list</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.numseg" title="pylayers.gis.layout.Layout.numseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numseg</span></code></a>(ta, he[, first])</p></td>
<td><p>get segment number from 2 points index</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.off_overlay" title="pylayers.gis.layout.Layout.off_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">off_overlay</span></code></a>([dx, dy])</p></td>
<td><p>offset overlay image</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.offset_index" title="pylayers.gis.layout.Layout.offset_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">offset_index</span></code></a>([offp, offs])</p></td>
<td><p>offset points and segment index</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.onseg" title="pylayers.gis.layout.Layout.onseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">onseg</span></code></a>(pt[, tol])</p></td>
<td><p>segment number from point (deprecated)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi" title="pylayers.gis.layout.Layout.outputGi"><code class="xref py py-obj docutils literal notranslate"><span class="pre">outputGi</span></code></a>([verbose, tqdmpos])</p></td>
<td><p>filter output of Gi edges</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_mp" title="pylayers.gis.layout.Layout.outputGi_mp"><code class="xref py py-obj docutils literal notranslate"><span class="pre">outputGi_mp</span></code></a>()</p></td>
<td><p>filter output of Gi edges</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.outputGi_new" title="pylayers.gis.layout.Layout.outputGi_new"><code class="xref py py-obj docutils literal notranslate"><span class="pre">outputGi_new</span></code></a>([verbose, tqdmpos])</p></td>
<td><p>filter output of Gi edges</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.plot" title="pylayers.gis.layout.Layout.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>(**kwargs)</p></td>
<td><p>plot the layout with shapely MultiLineString</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.plot_segments" title="pylayers.gis.layout.Layout.plot_segments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_segments</span></code></a>(lns, **kwargs)</p></td>
<td><p><p>”</p>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.pltlines" title="pylayers.gis.layout.Layout.pltlines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pltlines</span></code></a>(lines[, fig, ax, color, alpha])</p></td>
<td><p>plot a line with a specified color and transparency</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.pltpoly" title="pylayers.gis.layout.Layout.pltpoly"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pltpoly</span></code></a>(poly[, fig, ax, color, alpha])</p></td>
<td><p>plot a polygon with a specified color and transparency</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.pltvnodes" title="pylayers.gis.layout.Layout.pltvnodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pltvnodes</span></code></a>(vn[, fig, ax])</p></td>
<td><p>plot vnodes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.point_touches_seg" title="pylayers.gis.layout.Layout.point_touches_seg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">point_touches_seg</span></code></a>(pt[, lseg, segtol, tahetol])</p></td>
<td><p>determine if a point is touching a segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.polysh2geu" title="pylayers.gis.layout.Layout.polysh2geu"><code class="xref py py-obj docutils literal notranslate"><span class="pre">polysh2geu</span></code></a>(poly)</p></td>
<td><p>transform sh.Polygon into geu.Polygon</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2cy" title="pylayers.gis.layout.Layout.pt2cy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pt2cy</span></code></a>([pt])</p></td>
<td><p>point to cycle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.pt2ro" title="pylayers.gis.layout.Layout.pt2ro"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pt2ro</span></code></a>([pt])</p></td>
<td><p>point to room</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.ptGs2cy" title="pylayers.gis.layout.Layout.ptGs2cy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ptGs2cy</span></code></a>([n])</p></td>
<td><p>Gs node to cycle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.ptin" title="pylayers.gis.layout.Layout.ptin"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ptin</span></code></a>([pt])</p></td>
<td><p>check if a point is in the Layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.randTxRx" title="pylayers.gis.layout.Layout.randTxRx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">randTxRx</span></code></a>()</p></td>
<td><p>returns random coordinates for Tx and Rx.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.repair" title="pylayers.gis.layout.Layout.repair"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repair</span></code></a>(dseg)</p></td>
<td><p>repair layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.room2nodes" title="pylayers.gis.layout.Layout.room2nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">room2nodes</span></code></a>(room)</p></td>
<td><p>returns the nodes of a room</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.room2segments" title="pylayers.gis.layout.Layout.room2segments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">room2segments</span></code></a>(room)</p></td>
<td><p>returns the segments of a room</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.rotate" title="pylayers.gis.layout.Layout.rotate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotate</span></code></a>([angle])</p></td>
<td><p>rotate the layout</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.save" title="pylayers.gis.layout.Layout.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>()</p></td>
<td><p>save Layout structure in a .lay file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.scl_overlay" title="pylayers.gis.layout.Layout.scl_overlay"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scl_overlay</span></code></a>([ax, ay])</p></td>
<td><p>scale overlay image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2pts" title="pylayers.gis.layout.Layout.seg2pts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seg2pts</span></code></a>(aseg)</p></td>
<td><p>convert segments array from Gs numerotation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seg2ro" title="pylayers.gis.layout.Layout.seg2ro"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seg2ro</span></code></a>(seg)</p></td>
<td><p>return room number of a point</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seg_intersection" title="pylayers.gis.layout.Layout.seg_intersection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seg_intersection</span></code></a>(**kwargs)</p></td>
<td><p>determine if a segment intersects any other segment of the layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe" title="pylayers.gis.layout.Layout.seginframe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seginframe</span></code></a>(p1, p2)</p></td>
<td><p>return the seg list of a given zone defined by two points</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seginframe2" title="pylayers.gis.layout.Layout.seginframe2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seginframe2</span></code></a>(p1, p2)</p></td>
<td><p>returns the seglist of a given zone defined by two points (vectorised version)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seginline" title="pylayers.gis.layout.Layout.seginline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seginline</span></code></a>(p1, p2)</p></td>
<td><p>returns the intersection between a given line and all segments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.segpt" title="pylayers.gis.layout.Layout.segpt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">segpt</span></code></a>([ptlist])</p></td>
<td><p>return the seg list of a sequence of point number</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.seguv" title="pylayers.gis.layout.Layout.seguv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">seguv</span></code></a>(iseg)</p></td>
<td><p>returns unitary vector along segments</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show" title="pylayers.gis.layout.Layout.show"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show</span></code></a>(**kwargs)</p></td>
<td><p>show layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show3" title="pylayers.gis.layout.Layout.show3"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show3</span></code></a>([bdis, centered])</p></td>
<td><p>geomview display of the indoor structure</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.showG" title="pylayers.gis.layout.Layout.showG"><code class="xref py py-obj docutils literal notranslate"><span class="pre">showG</span></code></a>([graph])</p></td>
<td><p>show the different graphs</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.showGs" title="pylayers.gis.layout.Layout.showGs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">showGs</span></code></a>(**kwargs)</p></td>
<td><p>show structure graph Gs</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.showSig" title="pylayers.gis.layout.Layout.showSig"><code class="xref py py-obj docutils literal notranslate"><span class="pre">showSig</span></code></a>(sigarr[, Tx, Rx, fig, ax])</p></td>
<td><p>Show signature</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show_layer" title="pylayers.gis.layout.Layout.show_layer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_layer</span></code></a>(name[, edlist, alpha, width, …])</p></td>
<td><p>show layer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show_nodes" title="pylayers.gis.layout.Layout.show_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_nodes</span></code></a>([ndlist, size, color, dlabels, …])</p></td>
<td><p>show nodes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show_seg1" title="pylayers.gis.layout.Layout.show_seg1"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_seg1</span></code></a>([edlist, alpha, width, size, …])</p></td>
<td><p>show segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.show_segment" title="pylayers.gis.layout.Layout.show_segment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">show_segment</span></code></a>(**kwargs)</p></td>
<td><p>show segment</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.signature" title="pylayers.gis.layout.Layout.signature"><code class="xref py py-obj docutils literal notranslate"><span class="pre">signature</span></code></a>(iTx, iRx)</p></td>
<td><p>Determine signature between node iTx and node iRx</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.subseg" title="pylayers.gis.layout.Layout.subseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">subseg</span></code></a>()</p></td>
<td><p>establishes the association : name &lt;-&gt;  edgelist</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.thwall" title="pylayers.gis.layout.Layout.thwall"><code class="xref py py-obj docutils literal notranslate"><span class="pre">thwall</span></code></a>(offx, offy)</p></td>
<td><p>Create a list of wall tuples (Transit.world format )</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.translate" title="pylayers.gis.layout.Layout.translate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">translate</span></code></a>(vec)</p></td>
<td><p>translate layout</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.updateshseg" title="pylayers.gis.layout.Layout.updateshseg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">updateshseg</span></code></a>()</p></td>
<td><p>update shapely segment</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.visi_papb" title="pylayers.gis.layout.Layout.visi_papb"><code class="xref py py-obj docutils literal notranslate"><span class="pre">visi_papb</span></code></a>(pa, pb[, edgelist, dtype])</p></td>
<td><p>visi_papb : determine if pa and pb are in visibility for the structure graph</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.visilist" title="pylayers.gis.layout.Layout.visilist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">visilist</span></code></a>(p)</p></td>
<td><p>returns the list of nodes which are visible from point p</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.waypointGw" title="pylayers.gis.layout.Layout.waypointGw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">waypointGw</span></code></a>(nroom1, nroom2)</p></td>
<td><p>get the waypoint between room1 and room2</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge" title="pylayers.gis.layout.Layout.wedge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wedge</span></code></a>(lpnt)</p></td>
<td><p>calculate wedge angle of a point</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylayers.gis.layout.Layout.wedge2" title="pylayers.gis.layout.Layout.wedge2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wedge2</span></code></a>(apnt)</p></td>
<td><p>calculate wedge angle of a point</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_fnod">
<code class="descname">add_fnod</code><span class="sig-paren">(</span><em>p=(0.0</em>, <em>0.0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_fnod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_fnod" title="Permalink to this definition">¶</a></dt>
<dd><p>add free node  p</p>
<p>p :  (1x2) tuple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;defstr.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">add_fnod</span><span class="p">((</span><span class="mf">10.0</span><span class="p">,</span><span class="mf">10.0</span><span class="p">))</span>
<span class="go">-13</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_furniture">
<code class="descname">add_furniture</code><span class="sig-paren">(</span><em>name='R1_C'</em>, <em>matname='PARTITION'</em>, <em>origin=(0.0</em>, <em>0.0)</em>, <em>zmin=0.0</em>, <em>height=0.0</em>, <em>width=0.0</em>, <em>length=0.0</em>, <em>angle=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_furniture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_furniture" title="Permalink to this definition">¶</a></dt>
<dd><p>add piece of furniture</p>
<dl class="simple">
<dt>name<span class="classifier">string</span></dt><dd><p>default = ‘R1_C’</p>
</dd>
<dt>matname<span class="classifier">string</span></dt><dd><p>default = ‘PARTITION’</p>
</dd>
</dl>
<p>origin : tuple of floats
height : float</p>
<blockquote>
<div><p>default = 0</p>
</div></blockquote>
<dl class="simple">
<dt>width<span class="classifier">float</span></dt><dd><p>default = 0</p>
</dd>
<dt>length<span class="classifier">float</span></dt><dd><p>default = 0</p>
</dd>
<dt>angle<span class="classifier">float</span></dt><dd><p>default = 0</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_furniture_file">
<code class="descname">add_furniture_file</code><span class="sig-paren">(</span><em>_filefur</em>, <em>typ=''</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_furniture_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_furniture_file" title="Permalink to this definition">¶</a></dt>
<dd><p>add pieces of furniture from .ini files</p>
<p>_filefur : string</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_nfpe">
<code class="descname">add_nfpe</code><span class="sig-paren">(</span><em>np0</em>, <em>s1</em>, <em>s2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_nfpe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_nfpe" title="Permalink to this definition">¶</a></dt>
<dd><p>Add node on s1 from projection of np0 along s2</p>
<p>np0  : point number
s1   : edge number 1
s2   : edge number 2</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_pnod">
<code class="descname">add_pnod</code><span class="sig-paren">(</span><em>p</em>, <em>e1</em>, <em>e2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_pnod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_pnod" title="Permalink to this definition">¶</a></dt>
<dd><p>Project point p on segment e1 along segment e2</p>
<blockquote>
<div><dl class="simple">
<dt>p<span class="classifier">ndarray</span></dt><dd><p>point</p>
</dd>
<dt>e1<span class="classifier">int</span></dt><dd><p>edge number 1</p>
</dd>
<dt>e2<span class="classifier">int</span></dt><dd><p>edge number 2</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>..todo</dt><dd><p>This function is void</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_pons">
<code class="descname">add_pons</code><span class="sig-paren">(</span><em>ns</em>, <em>alpha=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_pons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_pons" title="Permalink to this definition">¶</a></dt>
<dd><p>add point on segment</p>
<dl class="simple">
<dt>ns<span class="classifier">int</span></dt><dd><p>segment number</p>
</dd>
<dt>alpha<span class="classifier">parameterization of the point</span></dt><dd><p>alpha = 0 (tail) alpha = 1 (head)</p>
</dd>
</dl>
<p>delete segment ns
create 2 segments with same properties</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.add_segment">
<code class="descname">add_segment</code><span class="sig-paren">(</span><em>n1</em>, <em>n2</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.add_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.add_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>add segment between node n1 and node n2</p>
<p>n1  : integer &lt; 0
n2  : integer &lt; 0
num : segment index (-1 default not given)
maxnum : maximum number (-1 default not given)
name : string</p>
<blockquote>
<div><p>layer name ‘PARTITION’</p>
</div></blockquote>
<dl class="simple">
<dt>z<span class="classifier">tuple of 2 floats</span></dt><dd><p>default = (0,40000000)</p>
</dd>
<dt>offset<span class="classifier">float</span></dt><dd><p>[-1,1] default (0)</p>
</dd>
<dt>bootdoor<span class="classifier">boolean</span></dt><dd><p>if outdoor add an _AIR wall above the segment</p>
</dd>
</dl>
<p>num : segment number (&gt;0)</p>
<p>A segment dictionnary has the following mandatory attributes</p>
<p>name : slab name associated with segment
z : list (zmin,zmax)   (meters)
norm : array  (1x3)  segment normal
transition : boolean
ncycles : list of involved cycles
connect : list of point number
iso : list of isosegment</p>
<p>If a segment is _AIR it cannnot be duplicated</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlink">
<code class="descname">angleonlink</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0])</em>, <em>p2=array([10</em>, <em>3])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.angleonlink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlink" title="Permalink to this definition">¶</a></dt>
<dd><p>angleonlink(self,p1,p2) return (seglist,angle) between p1 and p2</p>
<p>p1 : np.array (2 x Np) or (2,)
p2 : np.array (2 x Np) or (2,)</p>
<p>data[‘i’]
data[‘s’] : list of segment number
data[‘a’] : angle (in radians) between segment and LOS axis</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;DLR.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alpha</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">angleonlink</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>#array([(0, 141, 1.2793395519256592), (0, 62, 0.29145678877830505),</dt><dd><blockquote>
<div><p>(0, 65, 0.29145678877830505)],</p>
</div></blockquote>
<p>dtype=[(‘i’, ‘&lt;i8’), (‘s’, ‘&lt;i8’), (‘a’, ‘&lt;f4’)])</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlink3">
<code class="descname">angleonlink3</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0</em>, <em>1])</em>, <em>p2=array([10</em>, <em>3</em>, <em>1])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.angleonlink3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlink3" title="Permalink to this definition">¶</a></dt>
<dd><p>returns (seglist,angle) in retangular area defined by p1 and p2</p>
<p>p1 : np.array (3 x N) or (3,)
p2 : np.array (3 x N) or (3,)</p>
<dl class="simple">
<dt>data<span class="classifier">structured array x N</span></dt><dd><p>‘i’ : index
‘s’ : slab
‘a’ : angle (in radians)</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;DLR2.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">angleonlink3</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>#array([(0, 141, 1.2793395519256592), (0, 62, 0.29145678877830505),</dt><dd><blockquote>
<div><p>(0, 65, 0.29145678877830505)],</p>
</div></blockquote>
<p>dtype=[(‘i’, ‘&lt;i8’), (‘s’, ‘&lt;i8’), (‘a’, ‘&lt;f4’)])</p>
</dd>
</dl>
<p>antprop.loss.Losst
geomutil.intersect3</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.angleonlinkold">
<code class="descname">angleonlinkold</code><span class="sig-paren">(</span><em>p1=array([0</em>, <em>0])</em>, <em>p2=array([10</em>, <em>3])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.angleonlinkold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.angleonlinkold" title="Permalink to this definition">¶</a></dt>
<dd><p>angleonlink(self,p1,p2) returns seglist between p1 and p2</p>
<dl class="simple">
<dt>p1<span class="classifier">(1 x 2 )</span></dt><dd><p>[0,0]</p>
</dd>
<dt>p2<span class="classifier">(1 x 2 )</span></dt><dd><p>[10,3]</p>
</dd>
</dl>
<dl class="simple">
<dt>seglist<span class="classifier">list</span></dt><dd><p>list of segment number on the link</p>
</dd>
</dl>
<p>theta</p>
<p>#&gt;&gt;&gt; from pylayers.gis.layout import *
#&gt;&gt;&gt; L = Layout(‘DLR.lay’,’matDB.ini’,’slabDB.ini’)
#&gt;&gt;&gt; p1 = np.array([0,0])
#&gt;&gt;&gt; p2 = np.array([10,3])
#&gt;&gt;&gt; L.angleonlinkold(p1,p2)
#(array([59, 62, 65]), array([ 1.27933953,  0.29145679,  0.29145679]))</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.boundary">
<code class="descname">boundary</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.boundary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.boundary" title="Permalink to this definition">¶</a></dt>
<dd><p>add a blank boundary around layout</p>
<dl class="simple">
<dt>percx<span class="classifier">float</span></dt><dd><p>percentage of Dx for x offset calculation (default 0.15)</p>
</dd>
<dt>percy<span class="classifier">float</span></dt><dd><p>percentage of Dy for y offset calculation (default 0.15)</p>
</dd>
</dl>
<p>xlim : tuple
minD : minimum distance for boundary
force : boolean</p>
<blockquote>
<div><p>force modification of boundaries even if one boundary already
exists</p>
</div></blockquote>
<dl class="simple">
<dt>minD<span class="classifier">int</span></dt><dd><p>minimal distance over x and y</p>
</dd>
</dl>
<p>self.lboundary is the list of the nodes of the added boundary
self.axn is the zone without the boundary extension
self.ax  is updated</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;defstr.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">boundary</span><span class="p">()</span>
</pre></div>
</div>
<p>This function calls g2npy</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.build">
<code class="descname">build</code><span class="sig-paren">(</span><em>graph='tvirw'</em>, <em>verbose=False</em>, <em>difftol=0.15</em>, <em>multi=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.build"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.build" title="Permalink to this definition">¶</a></dt>
<dd><p>build graphs</p>
<dl class="simple">
<dt>graph<span class="classifier">string composed of</span></dt><dd><p>‘t’ : Gt
‘v’ : Gv
‘i’ : Gi
‘r’ : Gr
‘w” : Gw</p>
</dd>
</dl>
<p>verbose : boolean
difftol : diffraction tolerance
multi : boolean</p>
<blockquote>
<div><p>enable multi processing</p>
</div></blockquote>
<p>This function builds all the graph associated with the Layout.</p>
<p>Warning : by default the layout is saved (dumpw) after each build</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGi">
<code class="descname">buildGi</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.buildGi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGi" title="Permalink to this definition">¶</a></dt>
<dd><p>build graph of interactions</p>
<p>For each node of graph Gv creates
5 different nodes associated to the same segment</p>
<p>(np,) D
(ns,cy0) R -&gt; cy0
(ns,cy1) R -&gt; cy1
(ns,cy0,cy1) T 0-&gt;1
(ns,cy1,cy0) T 1-&gt;0</p>
<p>Gi is an oriented Graph (DiGraph)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGr">
<code class="descname">buildGr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.buildGr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGr" title="Permalink to this definition">¶</a></dt>
<dd><p>build the graph of rooms Gr</p>
<p>adjascent rooms are connected</p>
<p>Gr is at startup a deep copy of Gt</p>
<p>The difficulty here is to take into account the AIR transition
segments</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGt">
<code class="descname">buildGt</code><span class="sig-paren">(</span><em>check=True</em>, <em>difftol=0.01</em>, <em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.buildGt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGt" title="Permalink to this definition">¶</a></dt>
<dd><p>build graph of convex cycles</p>
<p>check : boolean
difftol : float
verbose : boolean
tqdmpos : progressbar</p>
<p>todo :
- add an option to only take outside polygon</p>
<blockquote>
<div><p>=&gt; pass to self._triangle a hole coreesponding to centroid of
polygon except those of boundary ( see buildGtold )</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGv">
<code class="descname">buildGv</code><span class="sig-paren">(</span><em>show=False</em>, <em>verbose=False</em>, <em>tqdmpos=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.buildGv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGv" title="Permalink to this definition">¶</a></dt>
<dd><p>build visibility graph</p>
<dl class="simple">
<dt>show<span class="classifier">boolean</span></dt><dd><p>default False</p>
</dd>
</dl>
<p>verbose : boolean 
tqdmpos : progressbar</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">buildGt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Ga</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">buildGr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">buildGv</span><span class="p">()</span>
</pre></div>
</div>
<p>This method exploits cycles convexity.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.buildGw">
<code class="descname">buildGw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.buildGw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.buildGw" title="Permalink to this definition">¶</a></dt>
<dd><p>build Graph of waypaths</p>
<p>buildGr</p>
<dl class="simple">
<dt>for all edges of Gr (adjascent room)</dt><dd><p>if room1 and room2 have a common transition</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>level=0</em>, <em>epsilon=0.64</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check Layout consistency</p>
<p>level : int</p>
<dl class="simple">
<dt>consistent<span class="classifier">Boolean</span></dt><dd><p>True if consistent</p>
</dd>
</dl>
<p>dseg : dictionnary of segments</p>
<p>GeomUtil.isBetween</p>
<dl class="simple">
<dt>For all segments</dt><dd><dl class="simple">
<dt>get the 2 vertices</dt><dd><dl class="simple">
<dt>for all the other vertices</dt><dd><p>check if it belongs to segment</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>If there are points which are not valid they are displayed</p>
<p>In red point with degree == 1 , In black points with degree == 0</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check2">
<code class="descname">check2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.check2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.check2" title="Permalink to this definition">¶</a></dt>
<dd><p>Layout checking</p>
<p>tseg ; list of segment shapely</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.check_Gi">
<code class="descname">check_Gi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.check_Gi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.check_Gi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>cleanup the Layout</p>
<ol class="arabic simple">
<li><p>Remove nodes which are not connected</p></li>
<li><p>Remove supperimposed segments</p></li>
</ol>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.clip">
<code class="descname">clip</code><span class="sig-paren">(</span><em>xmin</em>, <em>xmax</em>, <em>ymin</em>, <em>ymax</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>return the list of edges which cross or belong to the clipping zone</p>
<p>xmin : float
xmax : float
ymin : float
ymax : float</p>
<p>seglist : list of segment number</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Determine all segments outside the clipping zone</p></li>
<li><p>Union of the 4 conditions</p></li>
<li><p>setdiff1d between the whole array of segments and the segments outside</p></li>
</ol>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.closest_edge">
<code class="descname">closest_edge</code><span class="sig-paren">(</span><em>p</em>, <em>AAS</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.closest_edge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.closest_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>not implemented</p>
<p>This function return the closest segment from p which belong to
the AAS (Allowed Angular Sector)</p>
<p>[ns] = closest_edge(self,p,AAS)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cy2pt">
<code class="descname">cy2pt</code><span class="sig-paren">(</span><em>cy=0</em>, <em>h=1.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.cy2pt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.cy2pt" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a point into a given cycle</p>
<dl class="simple">
<dt>cy<span class="classifier">int</span></dt><dd><p>cycle number</p>
</dd>
<dt>h<span class="classifier">float</span></dt><dd><p>point height</p>
</dd>
</dl>
<dl class="simple">
<dt>point<span class="classifier">nd.array</span></dt><dd><p>3d point</p>
</dd>
</dl>
<p>Layout.pt2cy</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.cycleinline">
<code class="descname">cycleinline</code><span class="sig-paren">(</span><em>c1</em>, <em>c2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.cycleinline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.cycleinline" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the intersection between a given line and all segments</p>
<dl class="simple">
<dt>c1<span class="classifier">int</span></dt><dd><p>point</p>
</dd>
<dt>c2<span class="classifier">int</span></dt><dd><p>point</p>
</dd>
</dl>
<p>I : numpy.ndarray</p>
<p>pylayers.antprop.signature.Signatures.rays
pylayers.gis.layout.Layout.seginframe2</p>
<p>This function is used to detect LOS conditions</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.del_points">
<code class="descname">del_points</code><span class="sig-paren">(</span><em>lp</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.del_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.del_points" title="Permalink to this definition">¶</a></dt>
<dd><p>delete points in list lp</p>
<dl class="simple">
<dt>lp<span class="classifier">list</span></dt><dd><p>node list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.del_segment">
<code class="descname">del_segment</code><span class="sig-paren">(</span><em>le</em>, <em>verbose=True</em>, <em>g2npy=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.del_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.del_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>delete segments in le</p>
<p>le : list of segments number</p>
<p>pylayers.gis.layout.Layout.del_node</p>
<p>100% of time is in g2npy</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.diag">
<code class="descname">diag</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em>, <em>l</em>, <em>al1</em>, <em>al2</em>, <em>quadsel=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.diag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.diag" title="Permalink to this definition">¶</a></dt>
<dd><p>return edge list from a diagonal zone</p>
<p>p1  : np.array
p2  : np.array
tol :
al1 :
al2 :
quadsel : 0   all quadrant</p>
<blockquote>
<div><p>2 1
3 4</p>
</div></blockquote>
<p>edgelist</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.dumpr">
<code class="descname">dumpr</code><span class="sig-paren">(</span><em>graphs='stvirw'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.dumpr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.dumpr" title="Permalink to this definition">¶</a></dt>
<dd><p>read of given graphs</p>
<dl class="simple">
<dt>graph<span class="classifier">string</span></dt><dd><p>‘s’ : Gv
‘t’ : Gt
‘r’ : Gr
‘v’ : Gv
‘i’ : Gi</p>
</dd>
</dl>
<p>.gpickle files are store under the struc directory of the project
specified by the $BASENAME environment variable</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.dumpw">
<code class="descname">dumpw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.dumpw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.dumpw" title="Permalink to this definition">¶</a></dt>
<dd><p>pickle dump of specified Graphs</p>
<p>graphs which are in lbltg are saved in pickle format</p>
<p>‘t’ : Gt
‘s’ : Gs
‘v’ : Gv
‘i’ : Gi
‘r’ : Gr</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ed2nd">
<code class="descname">ed2nd</code><span class="sig-paren">(</span><em>edlist</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.ed2nd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.ed2nd" title="Permalink to this definition">¶</a></dt>
<dd><p>convert edgelist to nodelist</p>
<dl class="simple">
<dt>edlist<span class="classifier">list or ndarray</span></dt><dd><p>edge list</p>
</dd>
</dl>
<dl class="simple">
<dt>ndlist<span class="classifier">ndarray</span></dt><dd><p>node list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.edit_seg">
<code class="descname">edit_seg</code><span class="sig-paren">(</span><em>e1</em>, <em>data={}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.edit_seg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.edit_seg" title="Permalink to this definition">¶</a></dt>
<dd><p>edit segment</p>
<dl class="simple">
<dt>e1<span class="classifier">integer</span></dt><dd><p>edge number</p>
</dd>
<dt>data<span class="classifier">dict</span></dt><dd><p>dictionnary of value of seg or subseg</p>
</dd>
</dl>
<dl class="simple">
<dt>A segment has the following properties :</dt><dd><ul class="simple">
<li><p>name  : string</p></li>
<li><p>z  :  tuple</p></li>
<li><p>transition : boolean (default FALSE)</p></li>
<li><p>offset : [-1,1]</p></li>
</ul>
</dd>
</dl>
<p>If a segment has subsegments attached the following properties are
added :</p>
<blockquote>
<div><ul class="simple">
<li><p>ss_name : list of string</p></li>
<li><p>ss_z : list of subsegment e.q. [(min height (meters),max height (meters))]</p></li>
<li><p>ss_offset : list of offset in [0,1]</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.exportosm">
<code class="descname">exportosm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.exportosm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.exportosm" title="Permalink to this definition">¶</a></dt>
<dd><p>export layout in osm file format</p>
<p>_filename : string</p>
<p>layout.loadosm
layout.loadini
layout.check</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.extrseg">
<code class="descname">extrseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.extrseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.extrseg" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate extremum of segments</p>
<dl class="simple">
<dt>update the following members</dt><dd><p><cite>min_sx</cite>
<cite>max_sx</cite>
<cite>min_sy</cite>
<cite>max_sy</cite></p>
</dd>
</dl>
<p>Used in seginframe</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.facet3D">
<code class="descname">facet3D</code><span class="sig-paren">(</span><em>e</em>, <em>subseg=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.facet3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.facet3D" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate 3D facet from segment</p>
<dl class="simple">
<dt>s<span class="classifier">int</span></dt><dd><p>segment number</p>
</dd>
<dt>subseg<span class="classifier">boolean</span></dt><dd><p>default False</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.facets3D">
<code class="descname">facets3D</code><span class="sig-paren">(</span><em>edlist</em>, <em>name='Layer'</em>, <em>subseg=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.facets3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.facets3D" title="Permalink to this definition">¶</a></dt>
<dd><p>create facet 3D for geomview</p>
<p>edlist
name : string
subseg : boolean</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.filterGi">
<code class="descname">filterGi</code><span class="sig-paren">(</span><em>situ='outdoor'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.filterGi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.filterGi" title="Permalink to this definition">¶</a></dt>
<dd><p>filter Gi to manage indoor/outdoor situations</p>
<p>Not called</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.find_edgelist">
<code class="descname">find_edgelist</code><span class="sig-paren">(</span><em>edgelist</em>, <em>nodelist</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.find_edgelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.find_edgelist" title="Permalink to this definition">¶</a></dt>
<dd><p>edgelist = find_edgelist(edgelist,nodelist)</p>
<p>edgelist : input edgelist
nodelist : input nodelist</p>
<p>return the subset of edgelist</p>
<p>Not Finished :</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.g2npy">
<code class="descname">g2npy</code><span class="sig-paren">(</span><em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.g2npy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.g2npy" title="Permalink to this definition">¶</a></dt>
<dd><p>conversion from graphs to numpy arrays</p>
<p>verbose : boolean</p>
<p>This function updates the following arrays in self:</p>
<ul class="simple">
<li><p>pt   (2xNp)</p></li>
<li><p>pg   center of gravity</p></li>
<li><p>tahe (2xNs)</p></li>
<li><p>tgs  : graph to segment</p></li>
<li><p>tsg  : segment to graph</p></li>
<li><p>dca  : dictionnary of cycle with an airwall (_AIR)</p></li>
<li><p>s2pu : sparse_lil_matrix</p></li>
<li><p>s2pc : sparse_lil_matrix</p></li>
<li><p>lsss : list of iso segments</p></li>
<li><p>maxheight :</p></li>
<li><p>normal :</p></li>
</ul>
<p>assert self.pt[self.iupnt[-1]] == self.pt[:,self.iupnt[-1]]</p>
<p>extrseg</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.geomfile">
<code class="descname">geomfile</code><span class="sig-paren">(</span><em>centered=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.geomfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.geomfile" title="Permalink to this definition">¶</a></dt>
<dd><p>create a .off geomview file</p>
<dl class="simple">
<dt>centered<span class="classifier">Boolean</span></dt><dd><p>if True the layout is centered around its center of gravity</p>
</dd>
</dl>
<p>The <cite>.off</cite> file can be vizualized through the show3 method</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;DLR.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pg</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">geomfile</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_Sg_pos">
<code class="descname">get_Sg_pos</code><span class="sig-paren">(</span><em>sigarr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.get_Sg_pos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.get_Sg_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>return position of the signatures</p>
<p>sigarr : signature</p>
<p>showSig</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_diffslab">
<code class="descname">get_diffslab</code><span class="sig-paren">(</span><em>npt</em>, <em>lz</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.get_diffslab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.get_diffslab" title="Permalink to this definition">¶</a></dt>
<dd><p>get the 2 slabs associated to a diffraction point</p>
<p>lnpt : diffraction point numbers (node of Gs)
lz   : array of candidate heights of the diffraction point</p>
<p>As a diffraction point may involve iso segments the nature
of the diffraction interaction depends on a height parameter
This function extacts the couple of slab from this information</p>
<ul class="simple">
<li><p>a list of 2-segments . the length of this list == length of lz</p></li>
<li><p>a list of slab tuples.  the length of this list == length of lz</p></li>
</ul>
<p>[[443, 529], [444, 530]]
[[‘WALL’, ‘WALL’], [‘AIR’, ‘AIR’]]</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_paths">
<code class="descname">get_paths</code><span class="sig-paren">(</span><em>nd_in</em>, <em>nd_fin</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.get_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.get_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the possible paths of graph Gs between two nodes.</p>
<blockquote>
<div><dl class="simple">
<dt>nd_in: int</dt><dd><p>initial graph node (segment or point)</p>
</dd>
<dt>nd_fin: int</dt><dd><p>final graph node (segment or point)</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>paths<span class="classifier">list</span></dt><dd><p>paths between nd_in and nd_fin</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_points">
<code class="descname">get_points</code><span class="sig-paren">(</span><em>boxorpol</em>, <em>tol=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.get_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.get_points" title="Permalink to this definition">¶</a></dt>
<dd><p>get points list and segments list in a polygonal zone</p>
<dl class="simple">
<dt>boxorpol<span class="classifier">list or tuple</span></dt><dd><dl class="simple">
<dt>[xmin,xmax,ymin,ymax]</dt><dd><p>or shapely Polygon</p>
</dd>
</dl>
</dd>
</dl>
<dl class="simple">
<dt>(pt,ke)<span class="classifier">points coordinates and index</span></dt><dd><p>pt : (2xn)
ke : (,n)</p>
</dd>
</dl>
<p>This method returns all the existing Layout points inside a box zone or
the boundary of a polygon</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.get_zone">
<code class="descname">get_zone</code><span class="sig-paren">(</span><em>ax</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.get_zone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.get_zone" title="Permalink to this definition">¶</a></dt>
<dd><p>get point list and segment list in a rectangular zone</p>
<dl class="simple">
<dt>ax<span class="classifier">list ot tuple</span></dt><dd><p>[xmin,xmax,ymin,ymax]</p>
</dd>
</dl>
<p>ptlist,seglist</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.getangles">
<code class="descname">getangles</code><span class="sig-paren">(</span><em>poly</em>, <em>unit='rad'</em>, <em>inside=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.getangles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.getangles" title="Permalink to this definition">¶</a></dt>
<dd><p>find angles of a polygon</p>
<p>poly : geu.Polygon or sh.Polygon
unit : str</p>
<blockquote>
<div><p>‘deg’ : degree values
‘rad’ : radian values</p>
</div></blockquote>
<dl class="simple">
<dt>inside<span class="classifier">boolean</span></dt><dd><dl class="simple">
<dt>True<span class="classifier">compute the inside angles of the cycle.</span></dt><dd><p>(a.k.a. the interior of the polygon)</p>
</dd>
<dt>False<span class="classifier">compute the outside angles of the cycle.</span></dt><dd><p>(a.k.a. the exterior of the polygon)</p>
</dd>
</dl>
</dd>
</dl>
<p>(u,a)
u : int (Np)</p>
<blockquote>
<div><p>point number</p>
</div></blockquote>
<dl class="simple">
<dt>a<span class="classifier">float (Np)</span></dt><dd><p>associated angle to the point</p>
</dd>
</dl>
<p><a class="reference external" href="http://www.mathopenref.com/polygonexteriorangles.html">http://www.mathopenref.com/polygonexteriorangles.html</a></p>
<p>TODO : This function should be moved in geomutil.py  (NOT USED)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.have_subseg">
<code class="descname">have_subseg</code><span class="sig-paren">(</span><em>e1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.have_subseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.have_subseg" title="Permalink to this definition">¶</a></dt>
<dd><p>check if edge e1 have subseg</p>
<blockquote>
<div><p>e1 : int</p>
</div></blockquote>
<blockquote>
<div><p>have_subseg_bool : boolean</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importosm">
<code class="descname">importosm</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.importosm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.importosm" title="Permalink to this definition">¶</a></dt>
<dd><p>import layout from osm file or osmapi</p>
<p>fileosm : string
address : string</p>
<blockquote>
<div><p>address to be geocoded</p>
</div></blockquote>
<dl class="simple">
<dt>latlon<span class="classifier">tuple</span></dt><dd><p>(latitude,longitude) degrees</p>
</dd>
<dt>dist_m<span class="classifier">float</span></dt><dd><p>distance in meter from the geocoded address (def 200 m )</p>
</dd>
<dt>cart<span class="classifier">boolean</span></dt><dd><p>conversion in cartesian coordinates</p>
</dd>
</dl>
<p>The best and recommended manner to edit a layout is to use the
josm editor in association with the piclayer plugin.
This plugin allows to place a geo-adjusted image in the background
which is very convenient for editing floorplan of buildings.</p>
<p>In josm editor, nodes are numbered with negative indexes, while in
pylayers they have a positive index.</p>
<p>pylayers.gis.osmparser.osmparse</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importres">
<code class="descname">importres</code><span class="sig-paren">(</span><em>_fileres</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.importres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.importres" title="Permalink to this definition">¶</a></dt>
<dd><p>import res format</p>
<p>col1 : x1 coordinates
col2 : y1 coordinates
col3 : x2 coordinates
col4 : y2 coordinates
col5 : building height
col6 : building number
col7 : building class
col8 : ground height</p>
<p>COST231 data Munich_buildings.res</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.importshp">
<code class="descname">importshp</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.importshp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.importshp" title="Permalink to this definition">¶</a></dt>
<dd><p>import layout from shape file</p>
<p>_fileshp :</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.info">
<code class="descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.info" title="Permalink to this definition">¶</a></dt>
<dd><p>gives information about the Layout</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.info_segment">
<code class="descname">info_segment</code><span class="sig-paren">(</span><em>s1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.info_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.info_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>information about segment</p>
<p>s1 : segment number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.intercy">
<code class="descname">intercy</code><span class="sig-paren">(</span><em>ncy</em>, <em>typ='source'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.intercy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.intercy" title="Permalink to this definition">¶</a></dt>
<dd><p>return the list of interactions seen from a cycle</p>
<p>ncy : cycle number( Project -&gt; save project)
typ : string</p>
<blockquote>
<div><p>if ‘source’ connect source cycle
if ‘target’ connect target cycle</p>
</div></blockquote>
<p>This method is called at the beginning of signature evaluation in order 
to get the starting and ending interaction. It exploits the information 
contained in teh graph Gi.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.isindoor">
<code class="descname">isindoor</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.isindoor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.isindoor" title="Permalink to this definition">¶</a></dt>
<dd><p>test if a point is indoor</p>
<dl class="simple">
<dt>pt<span class="classifier">np.array 1x2</span></dt><dd><p>2d point</p>
</dd>
</dl>
<dl class="simple">
<dt>b1<span class="classifier">boolean</span></dt><dd><p>True if indoor</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ispoint">
<code class="descname">ispoint</code><span class="sig-paren">(</span><em>pt</em>, <em>tol=0.05</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.ispoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.ispoint" title="Permalink to this definition">¶</a></dt>
<dd><p>check if pt is a point of the Layout</p>
<p>pt  : point (2,1)
tol : float</p>
<blockquote>
<div><p>default (0.05 meters)</p>
</div></blockquote>
<p>if True the point number (&lt;0) is returned
else 0 is return</p>
<p>pt : point number if point exists 0 otherwise</p>
<p>pylayers.util.geomutil.Polygon.setvnodes</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.isseg">
<code class="descname">isseg</code><span class="sig-paren">(</span><em>ta</em>, <em>he</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.isseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.isseg" title="Permalink to this definition">¶</a></dt>
<dd><p>test if ta&lt;-&gt;he is a segment</p>
<p>ta  : int &lt;0
he  : int &lt;0</p>
<p>boolean</p>
<p>editor.py</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.layerongrid">
<code class="descname">layerongrid</code><span class="sig-paren">(</span><em>grid</em>, <em>Tx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.layerongrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.layerongrid" title="Permalink to this definition">¶</a></dt>
<dd><p>grid Nx,Ny,2
Tx   1x2
.. todo:: layeron grid Not finished</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.layeronlink">
<code class="descname">layeronlink</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.layeronlink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.layeronlink" title="Permalink to this definition">¶</a></dt>
<dd><p>layeronlink(self,p1,p2) return seglist between p1 and p2</p>
<p>p1 : (1 x 2 )
p2 : (1 x 2 )</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load a layout from a .lay file</p>
<p>The filename is in self._filename</p>
<p>[info]
format = {cart | latlon}
version =
type = {indoor | outdoor}</p>
<p>[points]
-1 = (x,y)</p>
<p>[segments]
1 = {‘slab’:’‘,transition:boolean,’connect:[-1,-2],’z’:(0,3)}</p>
<p>[slabs]
WALL = {‘lthick’:[,],’lmat’:[,],’color:’‘,’linewidth’:float}</p>
<p>[materials]
BRICK = {‘mur’:complex,’epsr’:complex,’sigma’:float,’roughness’:}</p>
<p>[polygons]
1 = {‘connect’:[1,2,3,4],’name’:NAME,’z’:(zmin,zmax)}</p>
<p>[indoor]
zceil =
zfloor =</p>
<p>[latlon]
llcrnrlon = 
llcrnrlat = 
urcrnrlon =
urcrnrlat = 
projection =</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.load_modif">
<code class="descname">load_modif</code><span class="sig-paren">(</span><em>_filename</em>, <em>build=True</em>, <em>cartesian=False</em>, <em>dist_m=400</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.load_modif"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.load_modif" title="Permalink to this definition">¶</a></dt>
<dd><p>load a Layout in different formats</p>
<p>_filename : string</p>
<ul class="simple">
<li><p>.lay   : ini file format (natural one) DIRLAY</p></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.loadfur">
<code class="descname">loadfur</code><span class="sig-paren">(</span><em>_filefur</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.loadfur"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.loadfur" title="Permalink to this definition">¶</a></dt>
<dd><p>loadfur load a furniture file</p>
<dl class="simple">
<dt>_filefur<span class="classifier">string</span></dt><dd><p>short name of the furniture ini file</p>
</dd>
</dl>
<blockquote>
<div><p>Furniture objects are stored in self.lfur list</p>
</div></blockquote>
<p>Load a Layout file and an associated furniture ini file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;WHERE1.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">loadfur</span><span class="p">(</span><span class="s1">&#39;Furw1.ini&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showGs</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span><span class="n">furniture</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ti</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;loadfur&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/pylayers-gis-layout-Layout-1.py">Source code</a>)</p>
<div class="figure align-center">
<img alt="../_images/pylayers-gis-layout-Layout-1.png" src="../_images/pylayers-gis-layout-Layout-1.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ls">
<code class="descname">ls</code><span class="sig-paren">(</span><em>typ='lay'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.ls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.ls" title="Permalink to this definition">¶</a></dt>
<dd><p>list the available file in dirstruc</p>
<dl class="simple">
<dt>typ<span class="classifier">string optional</span></dt><dd><p>{‘lay’|’osm’|’wrl’}</p>
</dd>
</dl>
<dl class="simple">
<dt>lfile_s<span class="classifier">list</span></dt><dd><p>sorted list of all the .str file of strdir</p>
</dd>
</dl>
<p>strdir is defined in the Project module</p>
<p>Display all available structures</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fillist</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.mask">
<code class="descname">mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the polygonal mask of the building</p>
<p>mask : geu.Polygon</p>
<p>This function assumes graph Gt has been generated</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.merge_segment">
<code class="descname">merge_segment</code><span class="sig-paren">(</span><em>n1</em>, <em>n2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.merge_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.merge_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>merge segment n2 included in n1</p>
<dl class="simple">
<dt>n1<span class="classifier">int</span></dt><dd><p>segment 1 (the larger) index</p>
</dd>
<dt>n2<span class="classifier">int</span></dt><dd><p>segment 2 (the smaller) index</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.nd2seg">
<code class="descname">nd2seg</code><span class="sig-paren">(</span><em>ndlist</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.nd2seg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.nd2seg" title="Permalink to this definition">¶</a></dt>
<dd><p>convert node list to edge list</p>
<dl class="simple">
<dt>ndlist<span class="classifier">list or ndarray</span></dt><dd><p>node list</p>
</dd>
</dl>
<dl class="simple">
<dt>seglist<span class="classifier">ndarray</span></dt><dd><p>edge list</p>
</dd>
</dl>
<p>previously nd2ed</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.numseg">
<code class="descname">numseg</code><span class="sig-paren">(</span><em>ta</em>, <em>he</em>, <em>first=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.numseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.numseg" title="Permalink to this definition">¶</a></dt>
<dd><p>get segment number from 2 points index</p>
<p>ta  : int &lt;0
he  : int &lt;0
first : Boolean</p>
<blockquote>
<div><p>if True returns only one among the several iso segments
else returns a np.array of iso segments</p>
</div></blockquote>
<p>nseg : &gt; 0
if 0 not a segment</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.off_overlay">
<code class="descname">off_overlay</code><span class="sig-paren">(</span><em>dx=0</em>, <em>dy=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.off_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.off_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>offset overlay image</p>
<p>dx : float
dy : float</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.offset_index">
<code class="descname">offset_index</code><span class="sig-paren">(</span><em>offp=0</em>, <em>offs=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.offset_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.offset_index" title="Permalink to this definition">¶</a></dt>
<dd><p>offset points and segment index</p>
<p>offp : offset points
offs : offset segments</p>
<p>Portage vers networkx 2. inacheve</p>
<p>__add__</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.onseg">
<code class="descname">onseg</code><span class="sig-paren">(</span><em>pt</em>, <em>tol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.onseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.onseg" title="Permalink to this definition">¶</a></dt>
<dd><p>segment number from point (deprecated)</p>
<p>return segment number which contains point pt</p>
<p>pt  np.array(1x2)
tol = 0.01      tolerance</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi">
<code class="descname">outputGi</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.outputGi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<p>L : Layout</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,…}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
<p>pylayers.util.cone.Cone.from2seg
pylayers.util.cone.Cone.belong_seg</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi_mp">
<code class="descname">outputGi_mp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.outputGi_mp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi_mp" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<p>L : Layout</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,…}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
<p>pylayers.util.cone.Cone.from2seg
pylayers.util.cone.Cone.belong_seg</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.outputGi_new">
<code class="descname">outputGi_new</code><span class="sig-paren">(</span><em>verbose=False</em>, <em>tqdmpos=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.outputGi_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.outputGi_new" title="Permalink to this definition">¶</a></dt>
<dd><p>filter output of Gi edges</p>
<p>this version of outputGi, uses sparses matrix instead of NetworkX for MP 
purpose</p>
<p>L : Layout</p>
<p>Let assume a sequence (nstr0,nstr1,{nstr2A,nstr2B,…}) in a signature.
This function checks whether this sequence is feasible or not
, whatever the type of nstr0 and nstr1.
The feasible outputs from nstr0 to nstr1 are stored in an output field of
edge (nstr0,nstr1)</p>
<p>pylayers.util.cone.Cone.from2seg
pylayers.util.cone.Cone.belong_seg</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>plot the layout with shapely MultiLineString</p>
<p>show : boolean
fig :figure
ax  :
labels : list
nodes : boolean</p>
<p>fig, ax</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;Munich.lay&#39;</span><span class="p">,</span><span class="n">bbuild</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.plot_segments">
<code class="descname">plot_segments</code><span class="sig-paren">(</span><em>lns</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.plot_segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.plot_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>“</p>
<p>lns
<a href="#id1"><span class="problematic" id="id2">*</span></a>kwargs</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltlines">
<code class="descname">pltlines</code><span class="sig-paren">(</span><em>lines</em>, <em>fig=[]</em>, <em>ax=[]</em>, <em>color='r'</em>, <em>alpha=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.pltlines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.pltlines" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a line with a specified color and transparency</p>
<p>lines : shapely lines
fig : matplotlib figure
ax : figure axis
color  : string
alpha  : float</p>
<blockquote>
<div><p>transparency</p>
</div></blockquote>
<p>pylayers.gis.layout.Layout.plot</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltpoly">
<code class="descname">pltpoly</code><span class="sig-paren">(</span><em>poly</em>, <em>fig=[]</em>, <em>ax=[]</em>, <em>color='r'</em>, <em>alpha=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.pltpoly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.pltpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>plot a polygon with a specified color and transparency</p>
<p>TODO : To be deplaced in an ither class</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pltvnodes">
<code class="descname">pltvnodes</code><span class="sig-paren">(</span><em>vn</em>, <em>fig=[]</em>, <em>ax=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.pltvnodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.pltvnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>plot vnodes</p>
<p>vn : list of nodes
fig :
ax :</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.point_touches_seg">
<code class="descname">point_touches_seg</code><span class="sig-paren">(</span><em>pt</em>, <em>lseg=[]</em>, <em>segtol=0.01</em>, <em>tahetol=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.point_touches_seg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.point_touches_seg" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a point is touching a segment</p>
<p>pt : a point (2,)
seg : a list of segments to test.</p>
<blockquote>
<div><p>if [] =&gt; all Gs segments are tested</p>
</div></blockquote>
<p>segdtol : distance tolerance point to segment
tahetol : distance tolerance point to segment extremeties</p>
<blockquote>
<div><dl class="simple">
<dt>=&gt; a point on segment extremeties is considered</dt><dd><p>not touching the segseg</p>
</dd>
</dl>
</div></blockquote>
<p>ltseg : lsit of touched segments (by the point)</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.polysh2geu">
<code class="descname">polysh2geu</code><span class="sig-paren">(</span><em>poly</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.polysh2geu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.polysh2geu" title="Permalink to this definition">¶</a></dt>
<dd><p>transform sh.Polygon into geu.Polygon</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pt2cy">
<code class="descname">pt2cy</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.pt2cy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.pt2cy" title="Permalink to this definition">¶</a></dt>
<dd><p>point to cycle</p>
<p>pt : point (ndarray)</p>
<p>ncy : cycle number</p>
<blockquote>
<div><p>If a cycle contains point pt this function returns the cycle number</p>
</div></blockquote>
<p>Layout.cy2pt</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.pt2ro">
<code class="descname">pt2ro</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.pt2ro"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.pt2ro" title="Permalink to this definition">¶</a></dt>
<dd><p>point to room</p>
<p>pt : point (ndarray)</p>
<p>nr : Room number</p>
<blockquote>
<div><p>If a room contains point pt this function returns the room number</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ptGs2cy">
<code class="descname">ptGs2cy</code><span class="sig-paren">(</span><em>n=-1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.ptGs2cy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.ptGs2cy" title="Permalink to this definition">¶</a></dt>
<dd><p>Gs node to cycle</p>
<p>upt : point (ndarray)</p>
<p>ncy : cycle number</p>
<blockquote>
<div><p>If a cycle contains the Gs pointt this function returns the cycle(s) number</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.ptin">
<code class="descname">ptin</code><span class="sig-paren">(</span><em>pt=array([0</em>, <em>0</em>, <em>0])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.ptin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.ptin" title="Permalink to this definition">¶</a></dt>
<dd><p>check if a point is in the Layout</p>
<p>pt : point (ndarray)</p>
<p>boolean : True if inside</p>
<p>ispoint</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.randTxRx">
<code class="descname">randTxRx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.randTxRx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.randTxRx" title="Permalink to this definition">¶</a></dt>
<dd><p>returns random coordinates for Tx and Rx.</p>
<dl class="simple">
<dt>p_Tx<span class="classifier">numpy.ndarray</span></dt><dd><p>A point of the placement of the Tx</p>
</dd>
<dt>p_Rx<span class="classifier">numpy.ndarray</span></dt><dd><p>A point of the placement of the Rx</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;defstr.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_Tx</span><span class="p">,</span><span class="n">p_Rx</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">randTxRx</span><span class="p">()</span>
</pre></div>
</div>
<p>ex fn Tx_Rx_pos</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.repair">
<code class="descname">repair</code><span class="sig-paren">(</span><em>dseg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.repair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.repair" title="Permalink to this definition">¶</a></dt>
<dd><p>repair layout</p>
<dl class="simple">
<dt>dseg<span class="classifier">dict</span></dt><dd><p>{ns : [np1,np2]}</p>
</dd>
</dl>
<p>Merge the superposed segments which has been determined by the check
method.</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.room2nodes">
<code class="descname">room2nodes</code><span class="sig-paren">(</span><em>room</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.room2nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.room2nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the nodes of a room</p>
<p>room : int</p>
<p>nod : sorted list</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.room2segments">
<code class="descname">room2segments</code><span class="sig-paren">(</span><em>room</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.room2segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.room2segments" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the segments of a room</p>
<p>room : int</p>
<p>seg : list</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.rotate">
<code class="descname">rotate</code><span class="sig-paren">(</span><em>angle=90</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.rotate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>rotate the layout</p>
<dl class="simple">
<dt>angle<span class="classifier">float</span></dt><dd><p>(degrees)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.save" title="Permalink to this definition">¶</a></dt>
<dd><p>save Layout structure in a .lay file</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.scl_overlay">
<code class="descname">scl_overlay</code><span class="sig-paren">(</span><em>ax=1.0</em>, <em>ay=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.scl_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.scl_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>scale overlay image</p>
<p>ax : float
ay : float</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg2pts">
<code class="descname">seg2pts</code><span class="sig-paren">(</span><em>aseg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seg2pts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seg2pts" title="Permalink to this definition">¶</a></dt>
<dd><p>convert segments array from Gs numerotation</p>
<p>to corresponding termination points array in pt</p>
<dl class="simple">
<dt>aseg<span class="classifier">np.array (,Ns) or int for single value:w</span></dt><dd><p>array of segment number (&gt;0)</p>
</dd>
</dl>
<dl class="simple">
<dt>pth<span class="classifier">np.array (4 x Ns)</span></dt><dd><p>pth is a vstacking of tail point (2,Ns) and head point (2,Ns)</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;defstr.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aseg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pt</span> <span class="o">=</span>  <span class="n">L</span><span class="o">.</span><span class="n">seg2pts</span><span class="p">(</span><span class="n">aseg</span><span class="p">)</span>
</pre></div>
</div>
<p>surprisingly self.s2pc is slower than this function</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg2ro">
<code class="descname">seg2ro</code><span class="sig-paren">(</span><em>seg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seg2ro"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seg2ro" title="Permalink to this definition">¶</a></dt>
<dd><p>return room number of a point</p>
<p>seg : int</p>
<p>nr : Room number</p>
<p>If a room contains point pt this function returns the room number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seg_intersection">
<code class="descname">seg_intersection</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seg_intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seg_intersection" title="Permalink to this definition">¶</a></dt>
<dd><p>determine if a segment intersects any other segment of the layout</p>
<p>shLine : a shapely LineString
or
ta,he : tail/head of a segment</p>
<p>llay_seg : list of layout’s segments intersected
lshP : list of shapely points of intersections.</p>
<p>editor.py</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginframe">
<code class="descname">seginframe</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seginframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seginframe" title="Permalink to this definition">¶</a></dt>
<dd><p>return the seg list of a given zone defined by two points</p>
<dl class="simple">
<dt>p1</dt><dd><p>array (1 x 2)</p>
</dd>
<dt>p2</dt><dd><p>array (1 x 2)</p>
</dd>
</dl>
<dl class="simple">
<dt>seglist</dt><dd><p>list of segment number inside a planar region defined by p1 an p2</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">seginframe</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
<span class="go">array([ 1,  3,  7,  8, 14, 15, 16, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30,</span>
<span class="go">       32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 44, 46, 47, 52, 53, 54,</span>
<span class="go">       55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71,</span>
<span class="go">       72, 73, 74, 75, 76, 77, 78, 81, 82, 85, 86])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginframe2">
<code class="descname">seginframe2</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seginframe2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seginframe2" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the seglist of a given zone defined by two points
(vectorised version)</p>
<blockquote>
<div><dl class="simple">
<dt>p1 array (2 x N)</dt><dd><p>array of N 2D points</p>
</dd>
<dt>p2 array (2 x N)</dt><dd><p>array of N 2D points</p>
</dd>
</dl>
<dl class="simple">
<dt>seglist</dt><dd><p>list of segment number inside a planar region defined by p1 an p2
separated by -1</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seglist</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">seginframe2</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">edlist</span>  <span class="o">=</span> <span class="p">[</span> <span class="n">L</span><span class="o">.</span><span class="n">tsg</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span>  <span class="n">seglist</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="n">edlist</span><span class="o">=</span><span class="n">edlist</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../api/pylayers-gis-layout-Layout-2.py">Source code</a>)</p>
<div class="figure align-center">
<img alt="../_images/pylayers-gis-layout-Layout-2.png" src="../_images/pylayers-gis-layout-Layout-2.png" />
</div>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seginline">
<code class="descname">seginline</code><span class="sig-paren">(</span><em>p1</em>, <em>p2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seginline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seginline" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the intersection between a given line and all segments</p>
<blockquote>
<div><p>p1 : numpy.ndarray
p2 : numpy.ndarray</p>
</div></blockquote>
<blockquote>
<div><p>I : numpy.ndarray</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.segpt">
<code class="descname">segpt</code><span class="sig-paren">(</span><em>ptlist=array([0])</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.segpt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.segpt" title="Permalink to this definition">¶</a></dt>
<dd><p>return the seg list of a sequence of point number</p>
<dl class="simple">
<dt>ptlist array(1xNp)</dt><dd><p>point number array</p>
</dd>
</dl>
<dl class="simple">
<dt>seglist</dt><dd><p>array seglist associated with ptlist</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ptlist</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seg</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">segpt</span><span class="p">(</span><span class="n">ptlist</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.seguv">
<code class="descname">seguv</code><span class="sig-paren">(</span><em>iseg</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.seguv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.seguv" title="Permalink to this definition">¶</a></dt>
<dd><p>returns unitary vector along segments</p>
<dl class="simple">
<dt>iseg<span class="classifier">np.array</span></dt><dd><p>index of segments</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;DLR.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">17</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">seguv</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span><span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">seguv</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show">
<code class="descname">show</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show" title="Permalink to this definition">¶</a></dt>
<dd><p>show layout</p>
<p>showG</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show3">
<code class="descname">show3</code><span class="sig-paren">(</span><em>bdis=True</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show3" title="Permalink to this definition">¶</a></dt>
<dd><p>geomview display of the indoor structure</p>
<dl class="simple">
<dt>bdis boolean (default True)</dt><dd><p>boolean display (call geowview if True)</p>
</dd>
<dt>centered<span class="classifier">boolean</span></dt><dd><p>if True center the layout before display</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showG">
<code class="descname">showG</code><span class="sig-paren">(</span><em>graph='s'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.showG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.showG" title="Permalink to this definition">¶</a></dt>
<dd><p>show the different graphs</p>
<dl>
<dt>graph<span class="classifier">char</span></dt><dd><p>‘t’ : Gt ‘r’ : Gr ‘s’ : Gs ‘v’ : Gv  ‘i’ : Gi</p>
</dd>
<dt>fig<span class="classifier">matplotlib figure</span></dt><dd><p>[]</p>
</dd>
<dt>ax<span class="classifier">matplotlib figure</span></dt><dd><p>[]</p>
</dd>
<dt>show<span class="classifier">boolean</span></dt><dd><p>False</p>
</dd>
<dt>nodes<span class="classifier">boolean</span></dt><dd><p>alse</p>
</dd>
<dt>edges<span class="classifier">boolean</span></dt><dd><p>True</p>
</dd>
<dt>airwalls | aw: boolean</dt><dd><p>display airwalls (False)</p>
</dd>
<dt>subseg: boolean</dt><dd><p>display subsegments (False)</p>
</dd>
<dt>slab<span class="classifier">boolean</span></dt><dd><p>display color and width of slabs (False)</p>
</dd>
<dt>labels<span class="classifier">boolean <a href="#id3"><span class="problematic" id="id4">|</span></a>list</span></dt><dd><p>display graph labels (False)
if list precise label of which cycle to display
(e.g. [‘t’])</p>
</dd>
<dt>alphan<span class="classifier">float</span></dt><dd><p>transparency of nodes (1.0)</p>
</dd>
<dt>alphae<span class="classifier">float</span></dt><dd><p>transparency of edges (1.0)</p>
</dd>
<dt>width<span class="classifier">float</span></dt><dd><p>line width (2)</p>
</dd>
<dt>node_color: string</dt><dd><p>w</p>
</dd>
<dt>posnode_color: string</dt><dd><p>positive node color (k)</p>
</dd>
<dt>negnode_color: string</dt><dd><p>negative node color (b)</p>
</dd>
<dt>edge_color<span class="classifier">string</span></dt><dd><p>k</p>
</dd>
<dt>node_size<span class="classifier">float</span></dt><dd><p>20</p>
</dd>
<dt>font_size<span class="classifier">float</span></dt><dd><p>15,</p>
</dd>
<dt>nodelist<span class="classifier">list</span></dt><dd><p>list of nodes to be displayed (all)</p>
</dd>
<dt>edgelist<span class="classifier">list</span></dt><dd><p>list of edges to be displayed (all)</p>
</dd>
<dt>mode<span class="classifier">string</span></dt><dd><p>‘cycle’ | ‘none’ | ‘room’</p>
</dd>
<dt>alphacy<span class="classifier">string</span></dt><dd><p>transparency of cycles (0.8)</p>
</dd>
<dt>colorcy :</dt><dd><p>‘#abcdef’</p>
</dd>
<dt>linter<span class="classifier">list</span></dt><dd><p>list of interaction for Gi
[‘RR’,’TT’,’RT’,’TR’,’RD’,’DR’,’TD’,’DT’,’DD’]</p>
</dd>
<dt>show0<span class="classifier">boolean</span></dt><dd><p>If true display connection to cycle  0 of Gt (False)</p>
</dd>
<dt>eded<span class="classifier">boolean</span></dt><dd><p>True</p>
</dd>
<dt>ndnd<span class="classifier">boolean</span></dt><dd><p>True</p>
</dd>
<dt>nded<span class="classifier">boolean</span></dt><dd><p>True</p>
</dd>
<dt>width<span class="classifier">int</span></dt><dd><p>2</p>
</dd>
<dt>nodelist<span class="classifier">list</span></dt><dd><p>[]</p>
</dd>
</dl>
<p>overlay : boolean</p>
<dl class="simple">
<dt>diffraction :boolean</dt><dd><p>False</p>
</dd>
<dt>defaults = {‘show’: False,</dt><dd><p>‘fig’: [],
‘ax’: [],
‘nodes’: False,
‘edges’: True,
‘sllist’:[],
‘airwalls’: False,
‘subseg’: False,
‘slab’: True,
‘labels’: False,
‘alphan’: 1.0,
‘alphae’: 1.0,
‘width’: 2,
‘node_color’:’w’,
‘edge_color’:’k’,
‘node_size’:20,
‘font_size’:15,
‘nodelist’: [],
‘edgelist’: [],
‘figsize’: (5,5),
‘mode’:’nocycle’,
‘alphacy’:0.8,
‘colorcy’:’abcdef’,
‘linter’ : [‘RR’,’TT’,’RT’,’TR’,’RD’,’DR’,’TD’,’DT’,’DD’],
‘show0’:False,
‘axis’:False,
‘overlay’:False,
‘diffraction’:False
}</p>
</dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span>  <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">dumpr</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tis</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Gs&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tit</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Gt&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tic</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Gr&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">showG</span><span class="p">(</span><span class="s1">&#39;v&#39;</span><span class="p">,</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tiv</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Gv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>pylayers.util.graphutil.draw</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showGs">
<code class="descname">showGs</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.showGs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.showGs" title="Permalink to this definition">¶</a></dt>
<dd><p>show structure graph Gs</p>
<dl class="simple">
<dt>ndlist<span class="classifier">np.array</span></dt><dd><p>set of nodes to be displayed</p>
</dd>
<dt>edlist<span class="classifier">np.array</span></dt><dd><p>set of edges to be displayed</p>
</dd>
<dt>roomlist<span class="classifier">list</span></dt><dd><p>default : []</p>
</dd>
</dl>
<p>axis :
width : int</p>
<blockquote>
<div><p>2</p>
</div></blockquote>
<p>fGHz : float
show    : boolean</p>
<blockquote>
<div><p>default True</p>
</div></blockquote>
<dl class="simple">
<dt>furniture<span class="classifier">boolean</span></dt><dd><p>default False</p>
</dd>
</dl>
<p>display parameters are defined in  display dictionnary</p>
<p>ax</p>
<p>pylayers.gis.layout.showG</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.showSig">
<code class="descname">showSig</code><span class="sig-paren">(</span><em>sigarr</em>, <em>Tx=None</em>, <em>Rx=None</em>, <em>fig=[]</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.showSig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.showSig" title="Permalink to this definition">¶</a></dt>
<dd><p>Show signature</p>
<dl class="simple">
<dt>Tx<span class="classifier">np.array (2,1)</span></dt><dd><p>Transmitter coordinates</p>
</dd>
<dt>Rx<span class="classifier">np.array (2,1)</span></dt><dd><p>Receipter coordinates</p>
</dd>
<dt>sr<span class="classifier">boolean</span></dt><dd><p>show room signature</p>
</dd>
</dl>
<p>fig   : figure instance
ax    : axes instance
lines : lines instance</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_layer">
<code class="descname">show_layer</code><span class="sig-paren">(</span><em>name</em>, <em>edlist=[]</em>, <em>alpha=1</em>, <em>width=0</em>, <em>color='black'</em>, <em>dnodes=False</em>, <em>dthin=False</em>, <em>dlabels=False</em>, <em>font_size=15</em>, <em>fGHz=[]</em>, <em>fig=[]</em>, <em>ax=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show_layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>show layer</p>
<p>name :
edlist : []
alpha : float</p>
<blockquote>
<div><p>transparency</p>
</div></blockquote>
<dl class="simple">
<dt>width<span class="classifier">int</span></dt><dd><p>if width = 0 width depends on slab property</p>
</dd>
<dt>color<span class="classifier">string</span></dt><dd><p>default black’</p>
</dd>
<dt>dnodes :</dt><dd><p>display nodes (False )</p>
</dd>
<dt>dthin :</dt><dd><p>display thin ( False )</p>
</dd>
<dt>dlabels :</dt><dd><p>display labels ( False )</p>
</dd>
</dl>
<p>font_size</p>
<p>show_segment</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_nodes">
<code class="descname">show_nodes</code><span class="sig-paren">(</span><em>ndlist=[100000000.0], size=10, color='b', dlabels=False, font_size=15, alpha=1, node_shape='o', fig=[], ax=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>show nodes</p>
<p>ndlist
size   : int</p>
<blockquote>
<div><p>default 10</p>
</div></blockquote>
<p>color :  ‘b’
dlabels : Boolean</p>
<blockquote>
<div><p>False</p>
</div></blockquote>
<dl class="simple">
<dt>font_size<span class="classifier">int</span></dt><dd><p>15</p>
</dd>
<dt>alpha<span class="classifier">float</span></dt><dd><p>transparancy</p>
</dd>
</dl>
<p>show_segment
showGs</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_seg1">
<code class="descname">show_seg1</code><span class="sig-paren">(</span><em>edlist=[]</em>, <em>alpha=1</em>, <em>width=1</em>, <em>size=2</em>, <em>color='black'</em>, <em>font_size=15</em>, <em>dlabels=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show_seg1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show_seg1" title="Permalink to this definition">¶</a></dt>
<dd><p>show segment</p>
<p>edlist
alpha
width
size
color
font_size
dlabels</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.show_segment">
<code class="descname">show_segment</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.show_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.show_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>show segment</p>
<dl class="simple">
<dt>edlist<span class="classifier">list</span></dt><dd><p>segment list</p>
</dd>
<dt>alpha<span class="classifier">float</span></dt><dd><p>transparency 0&lt; alpha &lt; 1</p>
</dd>
<dt>width<span class="classifier">float</span></dt><dd><p>line width (default 1)</p>
</dd>
<dt>color<span class="classifier">string</span></dt><dd><p>default ‘black’</p>
</dd>
<dt>dnodes<span class="classifier">boolean</span></dt><dd><p>display nodes ( Default False)</p>
</dd>
<dt>dlabels<span class="classifier">boolean</span></dt><dd><p>display labels ( Default False)</p>
</dd>
<dt>font_size<span class="classifier">int</span></dt><dd><p>Default 15</p>
</dd>
</dl>
<p>show_nodes</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.signature">
<code class="descname">signature</code><span class="sig-paren">(</span><em>iTx</em>, <em>iRx</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.signature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine signature between node iTx and node iRx</p>
<dl class="simple">
<dt>cy1<span class="classifier">int</span></dt><dd><p>source cycle</p>
</dd>
<dt>cy2<span class="classifier">int</span></dt><dd><p>target cycle</p>
</dd>
</dl>
<p>sigarr    :
signature :</p>
<dl class="simple">
<dt>This a temporary function</dt><dd><p>There is some algorithmic work to find the best way to determine signature
T4 : limit the ndt to only edges and nodes in visibility from Tx</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.subseg">
<code class="descname">subseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.subseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.subseg" title="Permalink to this definition">¶</a></dt>
<dd><p>establishes the association : name &lt;-&gt;  edgelist</p>
<dl class="simple">
<dt>dico<span class="classifier">dict</span></dt><dd><p>sub segment name as key and segment number as value</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.thwall">
<code class="descname">thwall</code><span class="sig-paren">(</span><em>offx</em>, <em>offy</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.thwall"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.thwall" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of wall tuples (Transit.world format )</p>
<p>offx
offy</p>
<p>walls : list of wall tuples  (Transit format)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;DLR.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">walls</span> <span class="o">=</span> <span class="n">L</span><span class="o">.</span><span class="n">thwall</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>vec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>translate layout</p>
<blockquote>
<div></div></blockquote>
<p>loa   vec :</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.updateshseg">
<code class="descname">updateshseg</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.updateshseg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.updateshseg" title="Permalink to this definition">¶</a></dt>
<dd><p>update shapely segment</p>
<p>build a shapely object for all segments</p>
<p>This function is called at the beginning of buildGt.</p>
<p>buildGt</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.visi_papb">
<code class="descname">visi_papb</code><span class="sig-paren">(</span><em>pa</em>, <em>pb</em>, <em>edgelist=array([]</em>, <em>dtype=float64)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.visi_papb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.visi_papb" title="Permalink to this definition">¶</a></dt>
<dd><p>visi_papb : determine if pa and pb are in visibility for the structure graph</p>
<p>visi_papb(pa,pb,edgelist)</p>
<p>pa       : 1x2
pb       : 1x2
edgelist : exclusion edge list</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.visilist">
<code class="descname">visilist</code><span class="sig-paren">(</span><em>p</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.visilist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.visilist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the list of nodes which are visible from point p</p>
<dl class="simple">
<dt>p</dt><dd><p>np.array point</p>
</dd>
</dl>
<p>AAS = [0:2pi]
While (AAS != void set)</p>
<blockquote>
<div><blockquote>
<div><ol class="arabic simple">
<li><p>Find segment ns either
i)  the closest segment from p in AAS
ii) neighbor of prec(ns)</p></li>
<li><p>Find the edgelist visible from ns</p></li>
</ol>
</div></blockquote>
<dl>
<dt>edgelist = vedgelist(ns)</dt><dd><ol class="arabic" start="3">
<li><p>Check_occultation(p,ns,edgelist)
Occultation 8  situations
[p1,pM,p2] = [T,T,T]  : fully occulted</p>
<blockquote>
<div><p>[     ]    partially visible
[F,F,F]  : fully visible</p>
</div></blockquote>
</li>
<li><p>Update Allowed Angular Sector  (AAS)</p></li>
</ol>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.waypointGw">
<code class="descname">waypointGw</code><span class="sig-paren">(</span><em>nroom1</em>, <em>nroom2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.waypointGw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.waypointGw" title="Permalink to this definition">¶</a></dt>
<dd><p>get the waypoint between room1 and room2</p>
<p>nroom1
nroom2</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pylayers.gis.layout</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="s1">&#39;TA-Office.lay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">L</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
</pre></div>
</div>
<p>nodes of Gw are no longer room number</p>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.wedge">
<code class="descname">wedge</code><span class="sig-paren">(</span><em>lpnt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.wedge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.wedge" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wedge angle of a point</p>
<dl class="simple">
<dt>lpnt<span class="classifier">list of int</span></dt><dd><p>list of point number</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pylayers.gis.layout.Layout.wedge2">
<code class="descname">wedge2</code><span class="sig-paren">(</span><em>apnt</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pylayers/gis/layout.html#Layout.wedge2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylayers.gis.layout.Layout.wedge2" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate wedge angle of a point</p>
<dl class="simple">
<dt>lpnt<span class="classifier">array int</span></dt><dd><p>list of point number</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyLayers developer team
      <span class="lastupdated">
        Last updated on Apr 07, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>