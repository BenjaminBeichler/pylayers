

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Motley Keenan Method Applied on TC1 METIS environment &mdash; PyLayers</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Ray Signatures" href="Signatures.html" />
    <link rel="prev" title="Multi-wall model" href="MultiWall.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Python
          

          
            
            <img src="../../_static/pylayers.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#basic-usage">2&nbsp;&nbsp;&nbsp;Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#environment-description">3&nbsp;&nbsp;&nbsp;Environment Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#materials-and-slabs">4&nbsp;&nbsp;&nbsp;Materials and Slabs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#description-of-antennas">5&nbsp;&nbsp;&nbsp;Description of Antennas</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../TOC.html#coverage-simulation">6&nbsp;&nbsp;&nbsp;Coverage Simulation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Coverage.html">Indoor Coverage with the PyLayers Multi Wall model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Coverage2.html">Example of Utilisation of Coverage</a></li>
<li class="toctree-l3"><a class="reference internal" href="MultiWall.html">Multi-wall model</a></li>
<li class="toctree-l3"><a class="reference internal" href="MultiWall.html#coverage-class">Coverage class</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Motley Keenan Method Applied on TC1 METIS environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ap1">AP1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap2">AP2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap3">AP3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap4">AP4</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap5">AP5</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#ray-tracing-simulation">7&nbsp;&nbsp;&nbsp;Ray Tracing Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#handling-agent-mobility">8&nbsp;&nbsp;&nbsp;Handling Agent Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#other-simulation-examples">9&nbsp;&nbsp;&nbsp;Other Simulation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#localization-algorithms">10&nbsp;&nbsp;&nbsp;Localization Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#measurements-tools">11&nbsp;&nbsp;&nbsp;Measurements Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#pylayers-tools">12&nbsp;&nbsp;&nbsp;PyLayers Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout1.html">Loading an outdoor layout from its address</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_antenna.html">Antenna Pattern for an H plane sectoral antenna &#64; 32GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout2.html">Building graphs of a Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_coverage.html">Indoor Radio Coverage with Motley Keenan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_layout.html">8 Random Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_issue314.html">Exemple of issue 314</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exAbsGas.html">Attenuation due to atmospheric gases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exDLink.html">Evaluation of a radio link DLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_w1.html">Indoor Radio Coverage FP7 WHERE1 M1 setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLuebbers.html">UWB Ray tracing simulation  in outdoor scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_dakar.html">Outdoor Radio Coverage with Deygout Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_cover.html">Outdoor Radio Coverage with Deygout Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_diffraction_polar.html">Diffraction coefficient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_diffraction.html">Diffraction coefficient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html">1&nbsp;&nbsp;&nbsp;pylayers.util.project Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.layout">2&nbsp;&nbsp;&nbsp;pylayers.gis.layout Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.selectl">3&nbsp;&nbsp;&nbsp;pylayers.gis.selectl Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.srtm">4&nbsp;&nbsp;&nbsp;pylayers.gis.srtm Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.osmparser">5&nbsp;&nbsp;&nbsp;pylayers.gis.osmparser Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.ezone">6&nbsp;&nbsp;&nbsp;pylayers.gis.ezone Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antenna">7&nbsp;&nbsp;&nbsp;pylayers.antprop.antenna Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.aarray">8&nbsp;&nbsp;&nbsp;pylayers.antprop.aarray Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.spharm">9&nbsp;&nbsp;&nbsp;pylayers.antprop.spharm Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antssh">10&nbsp;&nbsp;&nbsp;pylayers.antprop.antssh Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antvsh">11&nbsp;&nbsp;&nbsp;pylayers.antprop.antvsh Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.slab">12&nbsp;&nbsp;&nbsp;pylayers.antprop.slab Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.signature">13&nbsp;&nbsp;&nbsp;pylayers.antprop.signature Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.interactions">14&nbsp;&nbsp;&nbsp;pylayers.antprop.interactions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.diffraction">15&nbsp;&nbsp;&nbsp;pylayers.antprop.diffraction Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.diffRT">16&nbsp;&nbsp;&nbsp;pylayers.antprop.diffRT Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.rays">17&nbsp;&nbsp;&nbsp;pylayers.antprop.rays Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.loss">18&nbsp;&nbsp;&nbsp;pylayers.antprop.loss Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.channel">19&nbsp;&nbsp;&nbsp;pylayers.antprop.channel Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#id39">20&nbsp;&nbsp;&nbsp;pylayers.antprop.loss Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.coverage">21&nbsp;&nbsp;&nbsp;pylayers.antprop.coverage Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.coeffModel">22&nbsp;&nbsp;&nbsp;pylayers.antprop.coeffModel Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.link">23&nbsp;&nbsp;&nbsp;pylayers.simul.link Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.exploit">24&nbsp;&nbsp;&nbsp;pylayers.simul.exploit Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.exploit_simulnet">25&nbsp;&nbsp;&nbsp;pylayers.simul.exploit_simulnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.simulnet">26&nbsp;&nbsp;&nbsp;pylayers.simul.simulnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.simultraj">27&nbsp;&nbsp;&nbsp;pylayers.simul.simultraj Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.exploit.simnet">28&nbsp;&nbsp;&nbsp;pylayers.exploit.simnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.mesuwb">29&nbsp;&nbsp;&nbsp;pylayers.measures.mesuwb Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.mesmimo">30&nbsp;&nbsp;&nbsp;pylayers.measures.mesmimo Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.cormoran">31&nbsp;&nbsp;&nbsp;pylayers.measures.cormoran Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.vna.E5072A">32&nbsp;&nbsp;&nbsp;pylayers.measures.vna.E5072A Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.parker.smparker">33&nbsp;&nbsp;&nbsp;pylayers.measures.parker.smparker Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.bsignal">34&nbsp;&nbsp;&nbsp;pylayers.signal.bsignal Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.standard">35&nbsp;&nbsp;&nbsp;pylayers.signal.standard Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.device">36&nbsp;&nbsp;&nbsp;pylayers.signal.device Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.DF">37&nbsp;&nbsp;&nbsp;pylayers.signal.DF Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.waveform">38&nbsp;&nbsp;&nbsp;pylayers.signal.waveform Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.mobility.agent">39&nbsp;&nbsp;&nbsp;pylayers.mobility.agent Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.mobility.ban.body">40&nbsp;&nbsp;&nbsp;pylayers.mobility.ban.body Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#id138">41&nbsp;&nbsp;&nbsp;pylayers.measures.cormoran Module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Manual</a> &raquo;</li>
        
          <li><a href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a> &raquo;</li>
        
      <li>Motley Keenan Method Applied on TC1 METIS environment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebook/2-AP/CoverageMetis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>! LANG=en date
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Fri Feb  1 18:08:11 CET 2019
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>from pylayers.antprop.coverage import *
import pandas as pd
%matplotlib inline
</pre></div>
</div>
<div class="section" id="motley-keenan-method-applied-on-tc1-metis-environment">
<h1>Motley Keenan Method Applied on TC1 METIS environment<a class="headerlink" href="#motley-keenan-method-applied-on-tc1-metis-environment" title="Permalink to this headline">¶</a></h1>
<p>In this section we compare Motley Keenan coverage method against the ray
tracing simulation from METIS project, meaning it is only accounting for
the direct path with the METIS ray tracing data.</p>
<p>In a first place we read the simulation data provided by the METIS
project <a class="reference external" href="https://metis2020.com/documents/simulations/index.html">METIS
Data</a></p>
<p><code class="docutils literal notranslate"><span class="pre">ldf</span></code> contains a dataframe of data for each access point.</p>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>def readdata(filename):
    with open(filename) as fd:
        lis = fd.readlines()
    data = lis[8:-1]
    for d in data:
        d = d.replace(&#39;\r\n&#39;,&#39;&#39;)
        lvs = d.split(&#39; &#39;)
        r = np.array([eval(x) for x in lvs])
        try:
            tab = np.vstack((tab,r))
        except:
            tab = r
    df = pd.DataFrame(data=tab,columns=[&#39;xap&#39;,&#39;yap&#39;,&#39;zap&#39;,&#39;xue&#39;,&#39;yue&#39;,&#39;zue&#39;,&#39;pg&#39;])
    return(df)

fap1 = basename+&#39;/meas/Metis/TC1_5APs_1176UEs_75cm_height_50cm_sampling_2metis/tc1_ap1_raytrace.txt&#39;
fap2 = basename+&#39;/meas/Metis/TC1_5APs_1176UEs_75cm_height_50cm_sampling_2metis/tc1_ap2_raytrace.txt&#39;
fap3 = basename+&#39;/meas/Metis/TC1_5APs_1176UEs_75cm_height_50cm_sampling_2metis/tc1_ap3_raytrace.txt&#39;
fap4 = basename+&#39;/meas/Metis/TC1_5APs_1176UEs_75cm_height_50cm_sampling_2metis/tc1_ap4_raytrace.txt&#39;
fap5 = basename+&#39;/meas/Metis/TC1_5APs_1176UEs_75cm_height_50cm_sampling_2metis/tc1_ap5_raytrace.txt&#39;
lfile = [fap1,fap2,fap3,fap4,fap5]
ldf = []
for k,f in enumerate(lfile):
    df = readdata(f)
    ldf.append(df)
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span># For AP1
ldf[0].head()
</pre></div>
</div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>xap</th>
      <th>yap</th>
      <th>zap</th>
      <th>xue</th>
      <th>yue</th>
      <th>zue</th>
      <th>pg</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>2.85</td>
      <td>0.5</td>
      <td>0.5</td>
      <td>0.75</td>
      <td>-74.393294</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>2.85</td>
      <td>0.5</td>
      <td>1.0</td>
      <td>0.75</td>
      <td>-77.736247</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>2.85</td>
      <td>0.5</td>
      <td>1.5</td>
      <td>0.75</td>
      <td>-73.739544</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>2.85</td>
      <td>0.5</td>
      <td>2.0</td>
      <td>0.75</td>
      <td>-82.514351</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.5</td>
      <td>2.5</td>
      <td>2.85</td>
      <td>0.5</td>
      <td>2.5</td>
      <td>0.75</td>
      <td>-86.828248</td>
    </tr>
  </tbody>
</table>
</div><div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>!cat $BASENAME/ini/coverage/TC1_METIS_coverage.ini
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[grid]
nx = 40
ny = 20
boundary = [0,0,25,12.5]
; possible mode :  zone , file, full , zone
mode = file
file = tc1_metis_grid.ini

[layout]
filename = TC1_METIS.lay
;0 40 0 15
;filename = W2PTIN.ini
;filename = Lstruc.str

[ap]
1 = {&#39;name&#39;:&#39;AP1&#39;,&#39;wstd&#39;:&#39;generic&#39;,&#39;p&#39;:(2.5,2.5,2.85),&#39;PtdBm&#39;:0,&#39;chan&#39;:[1],&#39;on&#39;:True,&#39;ant&#39;:&#39;Omni&#39;,&#39;phideg&#39;:0}
2 = {&#39;name&#39;:&#39;AP2&#39;,&#39;wstd&#39;:&#39;generic&#39;,&#39;p&#39;:(2.5,10,2.85),&#39;PtdBm&#39;:0,&#39;chan&#39;:[1],&#39;on&#39;:False,&#39;ant&#39;:&#39;Omni&#39;,&#39;phideg&#39;:0}
3 = {&#39;name&#39;:&#39;AP3&#39;,&#39;wstd&#39;:&#39;generic&#39;,&#39;p&#39;:(22.5,10,2.85),&#39;PtdBm&#39;:0,&#39;chan&#39;:[1],&#39;on&#39;:False,&#39;ant&#39;:&#39;Omni&#39;,&#39;phideg&#39;:0}
4 = {&#39;name&#39;:&#39;AP4&#39;,&#39;wstd&#39;:&#39;generic&#39;,&#39;p&#39;:(22.5,2.5,2.85),&#39;PtdBm&#39;:0,&#39;chan&#39;:[1],&#39;on&#39;:False,&#39;ant&#39;:&#39;Omni&#39;,&#39;phideg&#39;:0}
5 = {&#39;name&#39;:&#39;AP5&#39;,&#39;wstd&#39;:&#39;generic&#39;,&#39;p&#39;:(12.5,6.25,2.85),&#39;PtdBm&#39;:0,&#39;chan&#39;:[1],&#39;on&#39;:False,&#39;ant&#39;:&#39;Omni&#39;,&#39;phideg&#39;:0}

[rx]
temperaturek = 300
noisefactordb = 0

[show]
show = True
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C = Coverage(&#39;coverage/TC1_METIS_coverage.ini&#39;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Warning Unable to read graph Gr
Warning Unable to read graph Gw
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>print(C.grid.shape)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(1176, 2)
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>def plotingAP(iap):
    idxf = C.dap[iap].s.fcghz.shape[0]//2
    data = C.CmWp[idxf,:,0]
    p = C.dap[iap][&#39;p&#39;][0:2]
    ptr= p-C.grid
    d =np.sqrt(np.sum(ptr*ptr,axis=1))


    plt.figure(figsize=(8,5))
    plt.semilogx(d,10*np.log10(data),&#39;.b&#39;, label=&#39;PyLayers Simulation (Multi Wall)&#39;)
    plt.semilogx(d,ldf[iap-1][&#39;pg&#39;].values,&#39;.r&#39;, label=&#39;Metis Simulation AP1 (Ray Tracing)&#39;,alpha=0.5)
    plt.xlabel(&#39;distance (meters)&#39;,fontsize=14)
    plt.ylabel(&#39;Path Loss(dB)&#39;)
    dnn = d[np.where(d&gt;0)]
    L = 32.4+ 20*np.log10(C.fGHz[idxf])+ 20*np.log10(dnn)
    plt.semilogx(dnn,-L,&#39;g&#39;,label=&#39;Free Space Path Loss&#39;)
    plt.legend()
    fig = plt.figure()
    err = ldf[iap-1][&#39;pg&#39;].values-10*np.log10(data)
    plt.subplot(121)
    plt.plot(d,err,&#39;.b&#39;)
    plt.xlabel(&#39;distance (meters)&#39;,fontsize=14)
    plt.ylabel(&#39;error (dB)&#39;)
    plt.subplot(122)
    plt.hist(err,40)
    plt.xlabel(&#39;error (dB)&#39;,fontsize=14)
    plt.figure(figsize=(15,10))
    plt.scatter(x=C.grid[:,0], y=C.grid[:,1], c=err, s=40, cmap=cm.jet, vmin=-30, vmax=30)
    plt.plot(df[&#39;xap&#39;][1175],df[&#39;yap&#39;][1175],&#39;^k&#39;,ms=10)
    plt.title(&#39;Difference between the 2 methods (RT vs Motley Keenan) (dB)&#39;)
    cbar=plt.colorbar()
    cbar.ax.set_ylabel(&#39;dBm&#39;)
    plt.axis(&#39;equal&#39;)
    ax = plt.gca()
    f,a=C.L.showG(&#39;s&#39;,ax=ax)
</pre></div>
</div>
<div class="section" id="ap1">
<h2>AP1<a class="headerlink" href="#ap1" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C.dap[1][&#39;on&#39;]=True
C.dap[2][&#39;on&#39;]=False
C.dap[3][&#39;on&#39;]=False
C.dap[4][&#39;on&#39;]=False
C.dap[5][&#39;on&#39;]=False

tic = time.time()
C.cover(snr=False,sinr=False)
toc=time.time()
print(&#39;Elapsed time :&#39;,toc-tic)
C.ref=ldf[0][&#39;pg&#39;].reshape(1,1176,1)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elapsed time : 6.329138278961182
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/envs/pylayers/lib/python3.5/site-packages/ipykernel_launcher.py:11: FutureWarning: reshape is deprecated and will raise in a subsequent release. Please use .values.reshape(...) instead
  # This is added back by InteractiveShellApp.init_path()
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>f,a = C.show(figsize=(10,5), typ=&#39;pr&#39; , title=&quot;PyLayers MultiWall&quot;, scale=40, f=2)
a.axis(&quot;on&quot;)
f,a = C.show(figsize=(10,5), typ=&#39;ref&#39; , title=&quot;METIS Ray Tracing&quot;, scale=40)
a.axis(&quot;on&quot;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(-1.2465500000000003, 26.177550000000004, -0.63265000000000005, 13.28565)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_11_1.png" src="../../_images/CoverageMetis_11_1.png" />
<img alt="../../_images/CoverageMetis_11_2.png" src="../../_images/CoverageMetis_11_2.png" />
<p>The next figure shows the representation of the full coverage w.r.t
range in a log/log scale.</p>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>plotingAP(1)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_13_0.png" src="../../_images/CoverageMetis_13_0.png" />
<img alt="../../_images/CoverageMetis_13_1.png" src="../../_images/CoverageMetis_13_1.png" />
<img alt="../../_images/CoverageMetis_13_2.png" src="../../_images/CoverageMetis_13_2.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7ff1bfdba748&gt;
</pre></div>
</div>
</div>
<div class="section" id="ap2">
<h2>AP2<a class="headerlink" href="#ap2" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C.dap[1][&#39;on&#39;]=False
C.dap[2][&#39;on&#39;]=True
tic = time.time()
C.cover()
toc=time.time()
print(&#39;Elapsed time :&#39;,toc-tic)
C.ref=ldf[1][&#39;pg&#39;].reshape(1,1176,1)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elapsed time : 6.219014883041382
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/envs/pylayers/lib/python3.5/site-packages/ipykernel_launcher.py:7: FutureWarning: reshape is deprecated and will raise in a subsequent release. Please use .values.reshape(...) instead
  import sys
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>f,a = C.show(figsize=(10,5), typ=&#39;pr&#39; , title=&quot;PyLayers MultiWall&quot;, scale=40, f=2)
a.axis(&quot;on&quot;)
f,a = C.show(figsize=(10,5), typ=&#39;ref&#39; , title=&quot;METIS Ray Tracing&quot;, scale=40)
a.axis(&quot;on&quot;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(-1.2465500000000003, 26.177550000000004, -0.63265000000000005, 13.28565)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_16_1.png" src="../../_images/CoverageMetis_16_1.png" />
<img alt="../../_images/CoverageMetis_16_2.png" src="../../_images/CoverageMetis_16_2.png" />
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>plotingAP(2)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_17_0.png" src="../../_images/CoverageMetis_17_0.png" />
<img alt="../../_images/CoverageMetis_17_1.png" src="../../_images/CoverageMetis_17_1.png" />
<img alt="../../_images/CoverageMetis_17_2.png" src="../../_images/CoverageMetis_17_2.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7ff1c0335cc0&gt;
</pre></div>
</div>
</div>
<div class="section" id="ap3">
<h2>AP3<a class="headerlink" href="#ap3" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C.dap[2][&#39;on&#39;]=False
C.dap[3][&#39;on&#39;]=True
tic = time.time()
C.cover()
toc=time.time()
print(&#39;Elapsed time :&#39;,toc-tic)
C.ref=ldf[2][&#39;pg&#39;].reshape(1,1176,1)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elapsed time : 19.30396866798401
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/envs/pylayers/lib/python3.5/site-packages/ipykernel_launcher.py:7: FutureWarning: reshape is deprecated and will raise in a subsequent release. Please use .values.reshape(...) instead
  import sys
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>f,a = C.show(figsize=(10,5), typ=&#39;pr&#39; , title=&quot;PyLayers MultiWall&quot;, scale=40, f=2)
a.axis(&quot;on&quot;)
f,a = C.show(figsize=(10,5), typ=&#39;ref&#39; , title=&quot;METIS Ray Tracing&quot;, scale=40)
a.axis(&quot;on&quot;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(-1.2465500000000003, 26.177550000000004, -0.63265000000000005, 13.28565)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_20_1.png" src="../../_images/CoverageMetis_20_1.png" />
<img alt="../../_images/CoverageMetis_20_2.png" src="../../_images/CoverageMetis_20_2.png" />
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>plotingAP(3)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_21_0.png" src="../../_images/CoverageMetis_21_0.png" />
<img alt="../../_images/CoverageMetis_21_1.png" src="../../_images/CoverageMetis_21_1.png" />
<img alt="../../_images/CoverageMetis_21_2.png" src="../../_images/CoverageMetis_21_2.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7ff1bdeec748&gt;
</pre></div>
</div>
</div>
<div class="section" id="ap4">
<h2>AP4<a class="headerlink" href="#ap4" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C.dap[3][&#39;on&#39;]=False
C.dap[4][&#39;on&#39;]=True
tic = time.time()
C.cover()
toc=time.time()
print(&#39;Elapsed time :&#39;,toc-tic)
C.ref=ldf[3][&#39;pg&#39;].reshape(1,1176,1)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elapsed time : 19.5051486492157
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/envs/pylayers/lib/python3.5/site-packages/ipykernel_launcher.py:7: FutureWarning: reshape is deprecated and will raise in a subsequent release. Please use .values.reshape(...) instead
  import sys
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>f,a = C.show(figsize=(10,5), typ=&#39;pr&#39; , title=&quot;PyLayers MultiWall&quot;, scale=40, f=2)
a.axis(&quot;on&quot;)
f,a = C.show(figsize=(10,5), typ=&#39;ref&#39; , title=&quot;METIS Ray Tracing&quot;, scale=40)
a.axis(&quot;on&quot;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(-1.2465500000000003, 26.177550000000004, -0.63265000000000005, 13.28565)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_24_1.png" src="../../_images/CoverageMetis_24_1.png" />
<img alt="../../_images/CoverageMetis_24_2.png" src="../../_images/CoverageMetis_24_2.png" />
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>plotingAP(4)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_25_0.png" src="../../_images/CoverageMetis_25_0.png" />
<img alt="../../_images/CoverageMetis_25_1.png" src="../../_images/CoverageMetis_25_1.png" />
<img alt="../../_images/CoverageMetis_25_2.png" src="../../_images/CoverageMetis_25_2.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7ff1bffd2860&gt;
</pre></div>
</div>
</div>
<div class="section" id="ap5">
<h2>AP5<a class="headerlink" href="#ap5" title="Permalink to this headline">¶</a></h2>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>C.dap[1][&#39;on&#39;]=False
C.dap[2][&#39;on&#39;]=False
C.dap[3][&#39;on&#39;]=False
C.dap[4][&#39;on&#39;]=False
C.dap[5][&#39;on&#39;]=True

tic = time.time()
C.cover(snr=False,sinr=False)
toc=time.time()
print(&#39;Elapsed time :&#39;,toc-tic)
C.ref=ldf[4][&#39;pg&#39;].reshape(1,1176,1)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Elapsed time : 0.19188904762268066
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/anaconda2/envs/pylayers/lib/python3.5/site-packages/ipykernel_launcher.py:11: FutureWarning: reshape is deprecated and will raise in a subsequent release. Please use .values.reshape(...) instead
  # This is added back by InteractiveShellApp.init_path()
</pre></div>
</div>
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>f,a = C.show(figsize=(10,5), typ=&#39;pr&#39; , title=&quot;PyLayers MultiWall&quot;, scale=40, f=2)
a.axis(&quot;on&quot;)
f,a = C.show(figsize=(10,5), typ=&#39;ref&#39; , title=&quot;METIS Ray Tracing&quot;, scale=40)
a.axis(&quot;on&quot;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(-1.2465500000000003, 26.177550000000004, -0.63265000000000005, 13.28565)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_28_1.png" src="../../_images/CoverageMetis_28_1.png" />
<img alt="../../_images/CoverageMetis_28_2.png" src="../../_images/CoverageMetis_28_2.png" />
<div class="code highlight-none notranslate"><div class="highlight"><pre><span></span>plotingAP(5)
</pre></div>
</div>
<img alt="../../_images/CoverageMetis_29_0.png" src="../../_images/CoverageMetis_29_0.png" />
<img alt="../../_images/CoverageMetis_29_1.png" src="../../_images/CoverageMetis_29_1.png" />
<img alt="../../_images/CoverageMetis_29_2.png" src="../../_images/CoverageMetis_29_2.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.figure.Figure at 0x7ff1c0104c88&gt;
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Signatures.html" class="btn btn-neutral float-right" title="Ray Signatures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MultiWall.html" class="btn btn-neutral" title="Multi-wall model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyLayers developer team.
      Last updated on Feb 01, 2019.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>