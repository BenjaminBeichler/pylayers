

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Modifying the segment nature &mdash; PyLayers</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Geographical Information and the Earth Zone class : Ezone" href="Ezone.html" />
    <link rel="prev" title="Description of the propagation environment" href="Layout.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Python
          

          
            
            <img src="../../_static/pylayers.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#basic-usage">2&nbsp;&nbsp;&nbsp;Basic Usage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../TOC.html#environment-description">3&nbsp;&nbsp;&nbsp;Environment Description</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Layout.html">Description of the propagation environment</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Modifying the segment nature</a></li>
<li class="toctree-l3"><a class="reference internal" href="Ezone.html">Geographical Information and the Earth Zone class : <code class="docutils literal notranslate"><span class="pre">Ezone</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Coverage.html">Outdoor Coverage Knife-Edge Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#materials-and-slabs">4&nbsp;&nbsp;&nbsp;Materials and Slabs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#description-of-antennas">5&nbsp;&nbsp;&nbsp;Description of Antennas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#coverage-simulation">6&nbsp;&nbsp;&nbsp;Coverage Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#ray-tracing-simulation">7&nbsp;&nbsp;&nbsp;Ray Tracing Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#handling-agent-mobility">8&nbsp;&nbsp;&nbsp;Handling Agent Mobility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#other-simulation-examples">9&nbsp;&nbsp;&nbsp;Other Simulation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#localization-algorithms">10&nbsp;&nbsp;&nbsp;Localization Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#measurements-tools">11&nbsp;&nbsp;&nbsp;Measurements Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../TOC.html#pylayers-tools">12&nbsp;&nbsp;&nbsp;PyLayers Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout1.html">Loading an outdoor layout from its address</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_antenna.html">Antenna Pattern for an H plane sectoral antenna &#64; 32GHz</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLayout2.html">Building graphs of a Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_coverage.html">Indoor Radio Coverage with Motley Keenan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_layout.html">8 Random Layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_issue314.html">Exemple of issue 314</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exAbsGas.html">Attenuation due to atmospheric gases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exDLink.html">Evaluation of a radio link DLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_w1.html">Indoor Radio Coverage FP7 WHERE1 M1 setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_exLuebbers.html">UWB Ray tracing simulation  in outdoor scenario</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_diffraction_polar.html">Diffraction coefficient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/plot_diffraction.html">Diffraction coefficient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html">1&nbsp;&nbsp;&nbsp;pylayers.util.project Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.layout">2&nbsp;&nbsp;&nbsp;pylayers.gis.layout Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.selectl">3&nbsp;&nbsp;&nbsp;pylayers.gis.selectl Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.srtm">4&nbsp;&nbsp;&nbsp;pylayers.gis.srtm Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.osmparser">5&nbsp;&nbsp;&nbsp;pylayers.gis.osmparser Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.gis.ezone">6&nbsp;&nbsp;&nbsp;pylayers.gis.ezone Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antenna">7&nbsp;&nbsp;&nbsp;pylayers.antprop.antenna Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.aarray">8&nbsp;&nbsp;&nbsp;pylayers.antprop.aarray Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.spharm">9&nbsp;&nbsp;&nbsp;pylayers.antprop.spharm Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antssh">10&nbsp;&nbsp;&nbsp;pylayers.antprop.antssh Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.antvsh">11&nbsp;&nbsp;&nbsp;pylayers.antprop.antvsh Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.slab">12&nbsp;&nbsp;&nbsp;pylayers.antprop.slab Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.signature">13&nbsp;&nbsp;&nbsp;pylayers.antprop.signature Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.interactions">14&nbsp;&nbsp;&nbsp;pylayers.antprop.interactions Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.diffraction">15&nbsp;&nbsp;&nbsp;pylayers.antprop.diffraction Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.diffRT">16&nbsp;&nbsp;&nbsp;pylayers.antprop.diffRT Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.rays">17&nbsp;&nbsp;&nbsp;pylayers.antprop.rays Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.loss">18&nbsp;&nbsp;&nbsp;pylayers.antprop.loss Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.channel">19&nbsp;&nbsp;&nbsp;pylayers.antprop.channel Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#id39">20&nbsp;&nbsp;&nbsp;pylayers.antprop.loss Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.coverage">21&nbsp;&nbsp;&nbsp;pylayers.antprop.coverage Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.antprop.coeffModel">22&nbsp;&nbsp;&nbsp;pylayers.antprop.coeffModel Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.link">23&nbsp;&nbsp;&nbsp;pylayers.simul.link Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.exploit">24&nbsp;&nbsp;&nbsp;pylayers.simul.exploit Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.exploit_simulnet">25&nbsp;&nbsp;&nbsp;pylayers.simul.exploit_simulnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.simulnet">26&nbsp;&nbsp;&nbsp;pylayers.simul.simulnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.simul.simultraj">27&nbsp;&nbsp;&nbsp;pylayers.simul.simultraj Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.exploit.simnet">28&nbsp;&nbsp;&nbsp;pylayers.exploit.simnet Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.mesuwb">29&nbsp;&nbsp;&nbsp;pylayers.measures.mesuwb Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.mesmimo">30&nbsp;&nbsp;&nbsp;pylayers.measures.mesmimo Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.cormoran">31&nbsp;&nbsp;&nbsp;pylayers.measures.cormoran Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.vna.E5072A">32&nbsp;&nbsp;&nbsp;pylayers.measures.vna.E5072A Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.measures.parker.smparker">33&nbsp;&nbsp;&nbsp;pylayers.measures.parker.smparker Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.bsignal">34&nbsp;&nbsp;&nbsp;pylayers.signal.bsignal Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.standard">35&nbsp;&nbsp;&nbsp;pylayers.signal.standard Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.device">36&nbsp;&nbsp;&nbsp;pylayers.signal.device Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.DF">37&nbsp;&nbsp;&nbsp;pylayers.signal.DF Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.signal.waveform">38&nbsp;&nbsp;&nbsp;pylayers.signal.waveform Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.mobility.agent">39&nbsp;&nbsp;&nbsp;pylayers.mobility.agent Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#module-pylayers.mobility.ban.body">40&nbsp;&nbsp;&nbsp;pylayers.mobility.ban.body Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/references.html#id138">41&nbsp;&nbsp;&nbsp;pylayers.measures.cormoran Module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User Manual</a> &raquo;</li>
        
          <li><a href="../TOC.html">1&nbsp;&nbsp;&nbsp;Overview</a> &raquo;</li>
        
      <li>Modifying the segment nature</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/notebook/1-GIS/Multisubsegments.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>!date
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mardi 29 janvier 2019, 13:53:10 (UTC+0100)
</pre></div>
</div>
<div class="section" id="modifying-the-segment-nature">
<h1>Modifying the segment nature<a class="headerlink" href="#modifying-the-segment-nature" title="Permalink to this headline">¶</a></h1>
<p>This section illustrates a simple ray tracing simulation. The
environement is a building with 2 rooms. At the interface between the
two rooms there is a segment with 3 sub-segment whose material
properties are changed in the simulation. This section illustrates in
details the different steps of the simulation. First we need to import
several specialized modules.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>from pylayers.simul.link import *
from pylayers.antprop.rays import *
from pylayers.antprop.aarray import *
from pylayers.antprop.channel import *
from pylayers.gis.layout import *
from pylayers.antprop.signature import *
import pylayers.signal.bsignal as bs
import pylayers.signal.waveform as wvf
import matplotlib.pyplot as plt
%matplotlib inline
</pre></div>
</div>
<p>Lets start by loading a simple layout with 2 single rooms. The multi
subsegment appears in the middle with the red vertical lines. Each
subsegment is materialized by a segment.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>L=Layout(&#39;defstr.lay&#39;)
f,a=L.showG(&#39;s&#39;,subseg=True,figsize=(10,10))
</pre></div>
</div>
<img alt="../../_images/Multisubsegments_4_0.png" src="../../_images/Multisubsegments_4_0.png" />
<p>The attribute <code class="docutils literal notranslate"><span class="pre">lsss</span></code> lists all the segments which are superposed
called <code class="docutils literal notranslate"><span class="pre">iso</span></code> segment.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>L.lsss
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[1, 2, 3]
</pre></div>
</div>
<p>The studied configuration is composed of a simple 2 rooms building
separated by an iso segment.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>print(L.Gs.node[1])
print(L.Gs.node[2])
print(L.Gs.node[3])
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;transition&#39;: False, &#39;iso&#39;: [3, 2], &#39;ncycles&#39;: [], &#39;connect&#39;: [-8, -7], &#39;norm&#39;: array([ 1., -0.,  0.]), &#39;z&#39;: (0.0, 2.7), &#39;offset&#39;: 0, &#39;name&#39;: &#39;WOOD&#39;}
{&#39;transition&#39;: False, &#39;iso&#39;: [1, 3], &#39;ncycles&#39;: [], &#39;connect&#39;: [-8, -7], &#39;norm&#39;: array([ 1., -0.,  0.]), &#39;z&#39;: (2.7, 2.8), &#39;offset&#39;: 0, &#39;name&#39;: &#39;AIR&#39;}
{&#39;transition&#39;: False, &#39;iso&#39;: [1, 2], &#39;ncycles&#39;: [], &#39;connect&#39;: [-8, -7], &#39;norm&#39;: array([ 1., -0.,  0.]), &#39;z&#39;: (2.8, 3), &#39;offset&#39;: 0, &#39;name&#39;: &#39;WOOD&#39;}
</pre></div>
</div>
<p>The <span class="math notranslate nohighlight">\(\mathcal{G}_s\)</span> graph dictionary has the following node.
Negative nodes are points and positive index nodes are segments.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>for k in [-1,1,2]:
    print(L.Gs.node[k])
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{}
{&#39;transition&#39;: False, &#39;iso&#39;: [3, 2], &#39;ncycles&#39;: [], &#39;connect&#39;: [-8, -7], &#39;norm&#39;: array([ 1., -0.,  0.]), &#39;z&#39;: (0.0, 2.7), &#39;offset&#39;: 0, &#39;name&#39;: &#39;WOOD&#39;}
{&#39;transition&#39;: False, &#39;iso&#39;: [1, 3], &#39;ncycles&#39;: [], &#39;connect&#39;: [-8, -7], &#39;norm&#39;: array([ 1., -0.,  0.]), &#39;z&#39;: (2.7, 2.8), &#39;offset&#39;: 0, &#39;name&#39;: &#39;AIR&#39;}
</pre></div>
</div>
<p>We define now, the position of the transmitter and the receiver, the two
termination of a radio link.</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>#tx=np.array([759,1114,1.5])
#rx=np.array([767,1114,1.5])
tx=np.array([2,3,1.5])
rx=np.array([8,4,1.6])
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>fGHz=np.linspace(1,11,100)
#Aa = Antenna(&#39;S1R1.vsh3&#39;)
#Ab = Antenna(&#39;S1R1.vsh3&#39;)
Aa = Antenna(&#39;Gauss&#39;,fGHz=fGHz)
Ab = Antenna(&#39;Gauss&#39;,fGHz=fGHz)
#Aa = AntArray(N=[8,1,1],fGHz=fGHz)
#Ab = AntArray(N=[4,1,1],fGHz=fGHz)
Lk = DLink(L=L,
       a=tx,
           b=rx,
           Aa=Aa,
           Ab=Ab,
           fGHz=fGHz,
       cutoff=5)
Lk.eval(force=True,verbose=False)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Signatures: 100.00000000000001it [00:00, 1634.19it/s]
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Warning Unable to read graph Gr
Warning Unable to read graph Gw
Layout Graph loaded
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Aa.eval()
Aa.plotG()
</pre></div>
</div>
<img alt="../../_images/Multisubsegments_14_0.png" src="../../_images/Multisubsegments_14_0.png" />
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(&lt;matplotlib.figure.Figure at 0x7fa361a69dd8&gt;,
 &lt;matplotlib.projections.polar.PolarAxes at 0x7fa3dd381fd0&gt;)
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk.C.Ctt
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>FUsignal :  (100,)  (25, 100)
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk.eval(force=True,a=tx,b=rx,applywav=True)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Signatures: 100.00000000000001it [00:00, 1986.58it/s]
/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1087: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  pstop2 = pstart2 + np.where(u2.x[pstart2:dim2] == xnew[-1])[0]
/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1202: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  x_new = self.x[imin:imax]
/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1207: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  y_new = self.y[..., imin:imax]
/home/uguen/Documents/rch/devel/pylayers/pylayers/antprop/channel.py:4627: VisibleDeprecationWarning: using a non-integer number instead of an integer will result in an error in the future
  rir  = np.zeros((shy[0],N))
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk.C
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Ctilde : Ray Propagation Channel Tensor (2x2xrxf)
---------
between antennas local frames
Nray : 25
Nfreq : 100
fmin(GHz) : 1.0
fmax(GHz): 11.0
---1st ray 1st freq ---
global angles (th,ph) degrees :
[ 89.1   9.5]
[  90.9 -170.5]
local angles (th,ph) degrees :
[ 89.1   9.5]
[  90.9 -170.5]
    | (0.110598827081-0.0932603392219j)   (7.67365332983e-05-9.12653903417e-05j) |
    | (7.67365332983e-05-9.12653903417e-05j)   (0.10982834-0.0923439725161j) |
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>f = plt.figure(figsize=(10,10))
f,a=Lk.C.show(cmap=&#39;jet&#39;,fig=f,typ=&#39;l20&#39;,vmin=-120,vmax=-10)
</pre></div>
</div>
<img alt="../../_images/Multisubsegments_18_0.png" src="../../_images/Multisubsegments_18_0.png" />
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>fGHz=np.arange(2,6,0.1)
wav = wvf.Waveform(fcGHz=4,bandGHz=1.5)
wav.show()
</pre></div>
</div>
<img alt="../../_images/Multisubsegments_19_0.png" src="../../_images/Multisubsegments_19_0.png" />
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk = DLink(L=L,a=tx,b=rx,fGHz=fGHz)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Warning Unable to read graph Gr
Warning Unable to read graph Gw
Layout Graph loaded
</pre></div>
</div>
<p>Position of the transmitter</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk.a
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>array([ 2. ,  3. ,  1.5])
</pre></div>
</div>
<p>Position of the receiver</p>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>Lk.b
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>array([ 8. ,  4. ,  1.6])
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>cir = Lk.H.applywavB(wav.sf)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>WARNING : Tchannel.applywavB is going to be replaced by Tchannel.applywav
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1074: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  pstop1 = pstart1 + np.where(u1.x[pstart1:dim1]==xnew[-1])[0]
/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1202: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  x_new = self.x[imin:imax]
/home/uguen/Documents/rch/devel/pylayers/pylayers/signal/bsignal.py:1207: VisibleDeprecationWarning: converting an array with ndim &gt; 0 to an index will result in an error in the future
  y_new = self.y[..., imin:imax]
</pre></div>
</div>
<div class="code ipython3 highlight-none notranslate"><div class="highlight"><pre><span></span>L.Gs.node[1][&#39;name&#39;]=&#39;AIR&#39;
L.Gs.node[2][&#39;name&#39;]=&#39;AIR&#39;
L.Gs.node[3][&#39;name&#39;]=&#39;AIR&#39;
#Aa = Antenna(&#39;Omni&#39;,fGHz=fGHz)
#Ab = Antenna(&#39;Omni&#39;,fGHz=fGHz)
Lk.eval(force=True,verbose=0,fGHz=fGHz)
Lk.plt_cir()
plt.xlim(0,50)
plt.title(&#39;AIR/AIR/AIR&#39;)
plt.figure()
L.Gs.node[1][&#39;name&#39;]=&#39;METAL&#39;
L.Gs.node[2][&#39;name&#39;]=&#39;METAL&#39;
L.Gs.node[3][&#39;name&#39;]=&#39;METAL&#39;
Lk.eval(force=True,verbose=0,fGHz=fGHz)
Lk.plt_cir()
plt.xlim(0,50)
plt.title(&#39;METAL/METAL/METAL&#39;)
plt.figure()
L.Gs.node[1][&#39;name&#39;]=&#39;WOOD&#39;
L.Gs.node[2][&#39;name&#39;]=&#39;AIR&#39;
L.Gs.node[3][&#39;name&#39;]=&#39;WOOD&#39;
Lk.eval(force=True,verbose=0,fGHz=fGHz)
Lk.plt_cir()
plt.xlim(0,50)
plt.title(&#39;WOOD/AIR/WOOD&#39;)
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Signatures: 100.00000000000001it [00:00, 968.00it/s]
Signatures: 100.00000000000001it [00:00, 2984.53it/s]
/home/uguen/Documents/rch/devel/pylayers/pylayers/simul/link.py:2489: RuntimeWarning: divide by zero encountered in log10
  ERdB = 10*np.log10(ER)
Signatures: 100.00000000000001it [00:00, 2006.53it/s]
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.text.Text at 0x7fa35b746588&gt;
</pre></div>
</div>
<img alt="../../_images/Multisubsegments_26_2.png" src="../../_images/Multisubsegments_26_2.png" />
<img alt="../../_images/Multisubsegments_26_3.png" src="../../_images/Multisubsegments_26_3.png" />
<img alt="../../_images/Multisubsegments_26_4.png" src="../../_images/Multisubsegments_26_4.png" />
<p>We have modified successively the nature of the 3 surfaces in the sub
segment placed in the separation partition. The first was AIR, the
second WOOD and the third METAL. As the subsegment is placed on the LOS
path the blockage effect is clearly visible. The chosen antennas were
omni directional <code class="docutils literal notranslate"><span class="pre">Antenna('Omni')</span></code></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Ezone.html" class="btn btn-neutral float-right" title="Geographical Information and the Earth Zone class : Ezone" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Layout.html" class="btn btn-neutral" title="Description of the propagation environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, PyLayers developer team.
      Last updated on Jan 29, 2019.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>